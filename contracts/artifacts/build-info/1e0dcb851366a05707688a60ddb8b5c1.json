{"id":"1e0dcb851366a05707688a60ddb8b5c1","_format":"hh-sol-build-info-1","solcVersion":"0.8.20","solcLongVersion":"0.8.20+commit.a1b79de6","input":{"language":"Solidity","sources":{"@openzeppelin/contracts/token/ERC20/IERC20.sol":{"content":"// SPDX-License-Identifier: MIT\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC20/IERC20.sol)\n\npragma solidity ^0.8.0;\n\n/**\n * @dev Interface of the ERC20 standard as defined in the EIP.\n */\ninterface IERC20 {\n    /**\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\n     * another (`to`).\n     *\n     * Note that `value` may be zero.\n     */\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n    /**\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\n     * a call to {approve}. `value` is the new allowance.\n     */\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n\n    /**\n     * @dev Returns the amount of tokens in existence.\n     */\n    function totalSupply() external view returns (uint256);\n\n    /**\n     * @dev Returns the amount of tokens owned by `account`.\n     */\n    function balanceOf(address account) external view returns (uint256);\n\n    /**\n     * @dev Moves `amount` tokens from the caller's account to `to`.\n     *\n     * Returns a boolean value indicating whether the operation succeeded.\n     *\n     * Emits a {Transfer} event.\n     */\n    function transfer(address to, uint256 amount) external returns (bool);\n\n    /**\n     * @dev Returns the remaining number of tokens that `spender` will be\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\n     * zero by default.\n     *\n     * This value changes when {approve} or {transferFrom} are called.\n     */\n    function allowance(address owner, address spender) external view returns (uint256);\n\n    /**\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\n     *\n     * Returns a boolean value indicating whether the operation succeeded.\n     *\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\n     * that someone may use both the old and the new allowance by unfortunate\n     * transaction ordering. One possible solution to mitigate this race\n     * condition is to first reduce the spender's allowance to 0 and set the\n     * desired value afterwards:\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n     *\n     * Emits an {Approval} event.\n     */\n    function approve(address spender, uint256 amount) external returns (bool);\n\n    /**\n     * @dev Moves `amount` tokens from `from` to `to` using the\n     * allowance mechanism. `amount` is then deducted from the caller's\n     * allowance.\n     *\n     * Returns a boolean value indicating whether the operation succeeded.\n     *\n     * Emits a {Transfer} event.\n     */\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\n}\n"},"src/YieldEscrowUltra.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport \"@openzeppelin/contracts/token/ERC20/IERC20.sol\";\n\n/**\n * @title YieldEscrowUltra\n * @dev Ultra-minimal escrow for <100k gas deposits\n * \n * EXTREME TRADE-OFFS FOR GAS EFFICIENCY:\n * - No access control (public admin functions)\n * - No reentrancy protection\n * - No pause mechanism\n * - Minimal validation\n * - Assembly optimizations\n * - Single storage slot deposits\n * \n * ⚠️ WARNING: This is for gas benchmarking only!\n * ⚠️ NOT recommended for production use due to security trade-offs!\n */\ncontract YieldEscrowUltra {\n    \n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    // STORAGE (ULTRA OPTIMIZED)\n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    \n    /// @dev Supported tokens (token => supported)\n    mapping(address => bool) public supportedTokens;\n    \n    /// @dev Processed payment hashes (hash => processed)\n    mapping(bytes32 => bool) public processedPaymentHashes;\n    \n    /// @dev Packed deposit data: user => depositId => packedData\n    /// PackedData = amount(128) + timestamp(32) + released(8) + padding(88)\n    mapping(address => mapping(uint256 => uint256)) public packedDeposits;\n    \n    /// @dev Deposit metadata: user => depositId => (token, merchant)\n    mapping(address => mapping(uint256 => DepositMeta)) public depositMeta;\n    \n    /// @dev User deposit counts\n    mapping(address => uint256) public userDepositCount;\n    \n    struct DepositMeta {\n        address token;\n        address merchant;\n    }\n    \n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    // EVENTS (MINIMAL)\n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    \n    event DepositCreated(bytes32 indexed paymentHash, address indexed user, uint256 amount);\n    event PaymentReleased(bytes32 indexed paymentHash, address indexed user, uint256 amount);\n    event TokenSupported(address indexed token, bool supported);\n    \n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    // ERRORS (MINIMAL)\n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    \n    error InvalidAmount();\n    error TokenNotSupported();\n    error PaymentProcessed();\n    error DepositNotFound();\n    error Unauthorized();\n    \n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    // CORE FUNCTIONS (ULTRA OPTIMIZED)\n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    \n    /**\n     * @dev Ultra-minimal deposit function targeting <100k gas\n     * @param amount Deposit amount (must be > 0 and < 2^128)\n     * @param token Token address\n     * @param merchant Merchant address\n     * @param paymentHash Unique payment hash\n     * @return depositIndex The deposit index\n     * \n     * EXTREME OPTIMIZATIONS:\n     * - Packed storage (amount + timestamp + status in single slot)\n     * - Minimal validation\n     * - Assembly for gas efficiency\n     * - No security modifiers\n     */\n    function createDeposit(\n        uint256 amount,\n        address token,\n        address merchant,\n        bytes32 paymentHash\n    ) external returns (uint256 depositIndex) {\n        \n        // Ultra-minimal validation\n        if (amount == 0 || amount >= 2**128) revert InvalidAmount();\n        if (!supportedTokens[token]) revert TokenNotSupported();\n        if (processedPaymentHashes[paymentHash]) revert PaymentProcessed();\n        \n        // Get deposit index\n        depositIndex = userDepositCount[msg.sender];\n        \n        // Direct token transfer (no safe transfer for gas savings)\n        assembly {\n            let token_addr := token\n            let from_addr := caller()\n            let to_addr := address()\n            let amount_val := amount\n            \n            // Prepare transferFrom call data\n            let freeMemPtr := mload(0x40)\n            mstore(freeMemPtr, 0x23b872dd00000000000000000000000000000000000000000000000000000000) // transferFrom selector\n            mstore(add(freeMemPtr, 0x04), from_addr)\n            mstore(add(freeMemPtr, 0x24), to_addr)\n            mstore(add(freeMemPtr, 0x44), amount_val)\n            \n            let success := call(gas(), token_addr, 0, freeMemPtr, 0x64, 0, 0)\n            if iszero(success) { revert(0, 0) }\n        }\n        \n        // Pack deposit data: amount(128) + timestamp(32) + released(8) + padding(88)\n        uint256 packedData;\n        assembly {\n            let amount_masked := and(amount, 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF) // 128 bits\n            let timestamp_masked := and(timestamp(), 0xFFFFFFFF) // 32 bits\n            // released = 0 (false), padding = 0\n            packedData := or(amount_masked, shl(128, timestamp_masked))\n        }\n        \n        // Store packed data and metadata\n        packedDeposits[msg.sender][depositIndex] = packedData;\n        depositMeta[msg.sender][depositIndex] = DepositMeta(token, merchant);\n        \n        // Update counters with assembly for gas savings\n        assembly {\n            // userDepositCount[msg.sender]++\n            let user := caller()\n            let slot := userDepositCount.slot\n            let key := user\n            let hash := keccak256(add(mload(0x40), 0x20), 0x40)\n            mstore(add(mload(0x40), 0x20), key)\n            mstore(add(mload(0x40), 0x40), slot)\n            let currentCount := sload(hash)\n            sstore(hash, add(currentCount, 1))\n        }\n        \n        // Mark payment as processed\n        processedPaymentHashes[paymentHash] = true;\n        \n        // Minimal event\n        emit DepositCreated(paymentHash, msg.sender, amount);\n    }\n    \n    /**\n     * @dev Release payment to merchant (ultra optimized)\n     */\n    function releasePayment(address user, uint256 depositIndex) external {\n        uint256 packedData = packedDeposits[user][depositIndex];\n        if (packedData == 0) revert DepositNotFound();\n        \n        DepositMeta memory meta = depositMeta[user][depositIndex];\n        if (msg.sender != meta.merchant) revert Unauthorized();\n        \n        // Check if already released (bit 160 in packed data)\n        assembly {\n            let releasedBit := and(shr(160, packedData), 0xFF)\n            if releasedBit { revert(0, 0) }\n        }\n        \n        // Extract amount from packed data\n        uint256 amount;\n        assembly {\n            amount := and(packedData, 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF) // Lower 128 bits\n        }\n        \n        // Mark as released\n        assembly {\n            let newPackedData := or(packedData, shl(160, 1)) // Set released bit\n            // Store back\n            let userAddr := user\n            let index := depositIndex\n            // Calculate storage slot for packedDeposits[user][depositIndex]\n            let innerSlot := packedDeposits.slot\n            mstore(0x00, userAddr)\n            mstore(0x20, innerSlot)\n            let userMapSlot := keccak256(0x00, 0x40)\n            mstore(0x00, index)\n            mstore(0x20, userMapSlot)\n            let finalSlot := keccak256(0x00, 0x40)\n            sstore(finalSlot, newPackedData)\n        }\n        \n        // Transfer to merchant with assembly\n        assembly {\n            let token_addr := mload(add(meta, 0x00)) // meta.token\n            let merchant_addr := mload(add(meta, 0x20)) // meta.merchant\n            \n            // Prepare transfer call data\n            let freeMemPtr := mload(0x40)\n            mstore(freeMemPtr, 0xa9059cbb00000000000000000000000000000000000000000000000000000000) // transfer selector\n            mstore(add(freeMemPtr, 0x04), merchant_addr)\n            mstore(add(freeMemPtr, 0x24), amount)\n            \n            let success := call(gas(), token_addr, 0, freeMemPtr, 0x44, 0, 0)\n            if iszero(success) { revert(0, 0) }\n        }\n        \n        emit PaymentReleased(bytes32(0), user, amount); // Simplified event\n    }\n    \n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    // ADMIN FUNCTIONS (NO ACCESS CONTROL FOR GAS SAVINGS)\n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    \n    /**\n     * @dev Set token support (no access control for gas savings)\n     */\n    function setSupportedToken(address token, bool supported) external {\n        supportedTokens[token] = supported;\n        emit TokenSupported(token, supported);\n    }\n    \n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    // VIEW FUNCTIONS\n    // ═══════════════════════════════════════════════════════════════════════════════════════════════════════════\n    \n    /**\n     * @dev Get unpacked deposit data\n     */\n    function getDeposit(address user, uint256 depositIndex) external view returns (\n        uint256 amount,\n        uint256 depositTimestamp,\n        bool released,\n        address token,\n        address merchant\n    ) {\n        uint256 packedData = packedDeposits[user][depositIndex];\n        DepositMeta memory meta = depositMeta[user][depositIndex];\n        \n        assembly {\n            amount := and(packedData, 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF) // Lower 128 bits\n            depositTimestamp := and(shr(128, packedData), 0xFFFFFFFF) // Next 32 bits\n            released := and(shr(160, packedData), 0xFF) // Next 8 bits\n        }\n        \n        token = meta.token;\n        merchant = meta.merchant;\n    }\n}"}},"settings":{"optimizer":{"enabled":true,"runs":200},"viaIR":true,"evmVersion":"paris","outputSelection":{"*":{"*":["abi","evm.bytecode","evm.deployedBytecode","evm.methodIdentifiers","metadata","devdoc","userdoc","storageLayout","evm.gasEstimates"],"":["ast"]}},"metadata":{"useLiteralContent":true}}},"output":{"sources":{"@openzeppelin/contracts/token/ERC20/IERC20.sol":{"ast":{"absolutePath":"@openzeppelin/contracts/token/ERC20/IERC20.sol","exportedSymbols":{"IERC20":[77]},"id":78,"license":"MIT","nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.8",".0"],"nodeType":"PragmaDirective","src":"106:23:0"},{"abstract":false,"baseContracts":[],"canonicalName":"IERC20","contractDependencies":[],"contractKind":"interface","documentation":{"id":2,"nodeType":"StructuredDocumentation","src":"131:70:0","text":" @dev Interface of the ERC20 standard as defined in the EIP."},"fullyImplemented":false,"id":77,"linearizedBaseContracts":[77],"name":"IERC20","nameLocation":"212:6:0","nodeType":"ContractDefinition","nodes":[{"anonymous":false,"documentation":{"id":3,"nodeType":"StructuredDocumentation","src":"225:158:0","text":" @dev Emitted when `value` tokens are moved from one account (`from`) to\n another (`to`).\n Note that `value` may be zero."},"eventSelector":"ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","id":11,"name":"Transfer","nameLocation":"394:8:0","nodeType":"EventDefinition","parameters":{"id":10,"nodeType":"ParameterList","parameters":[{"constant":false,"id":5,"indexed":true,"mutability":"mutable","name":"from","nameLocation":"419:4:0","nodeType":"VariableDeclaration","scope":11,"src":"403:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":4,"name":"address","nodeType":"ElementaryTypeName","src":"403:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":7,"indexed":true,"mutability":"mutable","name":"to","nameLocation":"441:2:0","nodeType":"VariableDeclaration","scope":11,"src":"425:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":6,"name":"address","nodeType":"ElementaryTypeName","src":"425:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":9,"indexed":false,"mutability":"mutable","name":"value","nameLocation":"453:5:0","nodeType":"VariableDeclaration","scope":11,"src":"445:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8,"name":"uint256","nodeType":"ElementaryTypeName","src":"445:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"402:57:0"},"src":"388:72:0"},{"anonymous":false,"documentation":{"id":12,"nodeType":"StructuredDocumentation","src":"466:148:0","text":" @dev Emitted when the allowance of a `spender` for an `owner` is set by\n a call to {approve}. `value` is the new allowance."},"eventSelector":"8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","id":20,"name":"Approval","nameLocation":"625:8:0","nodeType":"EventDefinition","parameters":{"id":19,"nodeType":"ParameterList","parameters":[{"constant":false,"id":14,"indexed":true,"mutability":"mutable","name":"owner","nameLocation":"650:5:0","nodeType":"VariableDeclaration","scope":20,"src":"634:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":13,"name":"address","nodeType":"ElementaryTypeName","src":"634:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":16,"indexed":true,"mutability":"mutable","name":"spender","nameLocation":"673:7:0","nodeType":"VariableDeclaration","scope":20,"src":"657:23:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":15,"name":"address","nodeType":"ElementaryTypeName","src":"657:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":18,"indexed":false,"mutability":"mutable","name":"value","nameLocation":"690:5:0","nodeType":"VariableDeclaration","scope":20,"src":"682:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17,"name":"uint256","nodeType":"ElementaryTypeName","src":"682:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"633:63:0"},"src":"619:78:0"},{"documentation":{"id":21,"nodeType":"StructuredDocumentation","src":"703:66:0","text":" @dev Returns the amount of tokens in existence."},"functionSelector":"18160ddd","id":26,"implemented":false,"kind":"function","modifiers":[],"name":"totalSupply","nameLocation":"783:11:0","nodeType":"FunctionDefinition","parameters":{"id":22,"nodeType":"ParameterList","parameters":[],"src":"794:2:0"},"returnParameters":{"id":25,"nodeType":"ParameterList","parameters":[{"constant":false,"id":24,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":26,"src":"820:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":23,"name":"uint256","nodeType":"ElementaryTypeName","src":"820:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"819:9:0"},"scope":77,"src":"774:55:0","stateMutability":"view","virtual":false,"visibility":"external"},{"documentation":{"id":27,"nodeType":"StructuredDocumentation","src":"835:72:0","text":" @dev Returns the amount of tokens owned by `account`."},"functionSelector":"70a08231","id":34,"implemented":false,"kind":"function","modifiers":[],"name":"balanceOf","nameLocation":"921:9:0","nodeType":"FunctionDefinition","parameters":{"id":30,"nodeType":"ParameterList","parameters":[{"constant":false,"id":29,"mutability":"mutable","name":"account","nameLocation":"939:7:0","nodeType":"VariableDeclaration","scope":34,"src":"931:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":28,"name":"address","nodeType":"ElementaryTypeName","src":"931:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"930:17:0"},"returnParameters":{"id":33,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":34,"src":"971:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":31,"name":"uint256","nodeType":"ElementaryTypeName","src":"971:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"970:9:0"},"scope":77,"src":"912:68:0","stateMutability":"view","virtual":false,"visibility":"external"},{"documentation":{"id":35,"nodeType":"StructuredDocumentation","src":"986:202:0","text":" @dev Moves `amount` tokens from the caller's account to `to`.\n Returns a boolean value indicating whether the operation succeeded.\n Emits a {Transfer} event."},"functionSelector":"a9059cbb","id":44,"implemented":false,"kind":"function","modifiers":[],"name":"transfer","nameLocation":"1202:8:0","nodeType":"FunctionDefinition","parameters":{"id":40,"nodeType":"ParameterList","parameters":[{"constant":false,"id":37,"mutability":"mutable","name":"to","nameLocation":"1219:2:0","nodeType":"VariableDeclaration","scope":44,"src":"1211:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":36,"name":"address","nodeType":"ElementaryTypeName","src":"1211:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":39,"mutability":"mutable","name":"amount","nameLocation":"1231:6:0","nodeType":"VariableDeclaration","scope":44,"src":"1223:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":38,"name":"uint256","nodeType":"ElementaryTypeName","src":"1223:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1210:28:0"},"returnParameters":{"id":43,"nodeType":"ParameterList","parameters":[{"constant":false,"id":42,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":44,"src":"1257:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":41,"name":"bool","nodeType":"ElementaryTypeName","src":"1257:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1256:6:0"},"scope":77,"src":"1193:70:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"documentation":{"id":45,"nodeType":"StructuredDocumentation","src":"1269:264:0","text":" @dev Returns the remaining number of tokens that `spender` will be\n allowed to spend on behalf of `owner` through {transferFrom}. This is\n zero by default.\n This value changes when {approve} or {transferFrom} are called."},"functionSelector":"dd62ed3e","id":54,"implemented":false,"kind":"function","modifiers":[],"name":"allowance","nameLocation":"1547:9:0","nodeType":"FunctionDefinition","parameters":{"id":50,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47,"mutability":"mutable","name":"owner","nameLocation":"1565:5:0","nodeType":"VariableDeclaration","scope":54,"src":"1557:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46,"name":"address","nodeType":"ElementaryTypeName","src":"1557:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":49,"mutability":"mutable","name":"spender","nameLocation":"1580:7:0","nodeType":"VariableDeclaration","scope":54,"src":"1572:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":48,"name":"address","nodeType":"ElementaryTypeName","src":"1572:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1556:32:0"},"returnParameters":{"id":53,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":54,"src":"1612:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51,"name":"uint256","nodeType":"ElementaryTypeName","src":"1612:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1611:9:0"},"scope":77,"src":"1538:83:0","stateMutability":"view","virtual":false,"visibility":"external"},{"documentation":{"id":55,"nodeType":"StructuredDocumentation","src":"1627:642:0","text":" @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\n Returns a boolean value indicating whether the operation succeeded.\n IMPORTANT: Beware that changing an allowance with this method brings the risk\n that someone may use both the old and the new allowance by unfortunate\n transaction ordering. One possible solution to mitigate this race\n condition is to first reduce the spender's allowance to 0 and set the\n desired value afterwards:\n https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n Emits an {Approval} event."},"functionSelector":"095ea7b3","id":64,"implemented":false,"kind":"function","modifiers":[],"name":"approve","nameLocation":"2283:7:0","nodeType":"FunctionDefinition","parameters":{"id":60,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57,"mutability":"mutable","name":"spender","nameLocation":"2299:7:0","nodeType":"VariableDeclaration","scope":64,"src":"2291:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":56,"name":"address","nodeType":"ElementaryTypeName","src":"2291:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":59,"mutability":"mutable","name":"amount","nameLocation":"2316:6:0","nodeType":"VariableDeclaration","scope":64,"src":"2308:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":58,"name":"uint256","nodeType":"ElementaryTypeName","src":"2308:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2290:33:0"},"returnParameters":{"id":63,"nodeType":"ParameterList","parameters":[{"constant":false,"id":62,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":64,"src":"2342:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":61,"name":"bool","nodeType":"ElementaryTypeName","src":"2342:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2341:6:0"},"scope":77,"src":"2274:74:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"documentation":{"id":65,"nodeType":"StructuredDocumentation","src":"2354:287:0","text":" @dev Moves `amount` tokens from `from` to `to` using the\n allowance mechanism. `amount` is then deducted from the caller's\n allowance.\n Returns a boolean value indicating whether the operation succeeded.\n Emits a {Transfer} event."},"functionSelector":"23b872dd","id":76,"implemented":false,"kind":"function","modifiers":[],"name":"transferFrom","nameLocation":"2655:12:0","nodeType":"FunctionDefinition","parameters":{"id":72,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67,"mutability":"mutable","name":"from","nameLocation":"2676:4:0","nodeType":"VariableDeclaration","scope":76,"src":"2668:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66,"name":"address","nodeType":"ElementaryTypeName","src":"2668:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":69,"mutability":"mutable","name":"to","nameLocation":"2690:2:0","nodeType":"VariableDeclaration","scope":76,"src":"2682:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":68,"name":"address","nodeType":"ElementaryTypeName","src":"2682:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":71,"mutability":"mutable","name":"amount","nameLocation":"2702:6:0","nodeType":"VariableDeclaration","scope":76,"src":"2694:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":70,"name":"uint256","nodeType":"ElementaryTypeName","src":"2694:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2667:42:0"},"returnParameters":{"id":75,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":76,"src":"2728:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":73,"name":"bool","nodeType":"ElementaryTypeName","src":"2728:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2727:6:0"},"scope":77,"src":"2646:88:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"scope":78,"src":"202:2534:0","usedErrors":[],"usedEvents":[11,20]}],"src":"106:2631:0"},"id":0},"src/YieldEscrowUltra.sol":{"ast":{"absolutePath":"src/YieldEscrowUltra.sol","exportedSymbols":{"IERC20":[77],"YieldEscrowUltra":[364]},"id":365,"license":"MIT","nodeType":"SourceUnit","nodes":[{"id":79,"literals":["solidity","^","0.8",".20"],"nodeType":"PragmaDirective","src":"32:24:1"},{"absolutePath":"@openzeppelin/contracts/token/ERC20/IERC20.sol","file":"@openzeppelin/contracts/token/ERC20/IERC20.sol","id":80,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":365,"sourceUnit":78,"src":"58:56:1","symbolAliases":[],"unitAlias":""},{"abstract":false,"baseContracts":[],"canonicalName":"YieldEscrowUltra","contractDependencies":[],"contractKind":"contract","documentation":{"id":81,"nodeType":"StructuredDocumentation","src":"116:451:1","text":" @title YieldEscrowUltra\n @dev Ultra-minimal escrow for <100k gas deposits\n \n EXTREME TRADE-OFFS FOR GAS EFFICIENCY:\n - No access control (public admin functions)\n - No reentrancy protection\n - No pause mechanism\n - Minimal validation\n - Assembly optimizations\n - Single storage slot deposits\n \n ⚠️ WARNING: This is for gas benchmarking only!\n ⚠️ NOT recommended for production use due to security trade-offs!"},"fullyImplemented":true,"id":364,"linearizedBaseContracts":[364],"name":"YieldEscrowUltra","nameLocation":"577:16:1","nodeType":"ContractDefinition","nodes":[{"constant":false,"documentation":{"id":82,"nodeType":"StructuredDocumentation","src":"1301:46:1","text":"@dev Supported tokens (token => supported)"},"functionSelector":"68c4ac26","id":86,"mutability":"mutable","name":"supportedTokens","nameLocation":"1384:15:1","nodeType":"VariableDeclaration","scope":364,"src":"1352:47:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":85,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":83,"name":"address","nodeType":"ElementaryTypeName","src":"1360:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1352:24:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":84,"name":"bool","nodeType":"ElementaryTypeName","src":"1371:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"public"},{"constant":false,"documentation":{"id":87,"nodeType":"StructuredDocumentation","src":"1410:53:1","text":"@dev Processed payment hashes (hash => processed)"},"functionSelector":"99fcfb43","id":91,"mutability":"mutable","name":"processedPaymentHashes","nameLocation":"1500:22:1","nodeType":"VariableDeclaration","scope":364,"src":"1468:54:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"},"typeName":{"id":90,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":88,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1476:7:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1468:24:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":89,"name":"bool","nodeType":"ElementaryTypeName","src":"1487:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"public"},{"constant":false,"documentation":{"id":92,"nodeType":"StructuredDocumentation","src":"1533:138:1","text":"@dev Packed deposit data: user => depositId => packedData\n PackedData = amount(128) + timestamp(32) + released(8) + padding(88)"},"functionSelector":"b63de29f","id":98,"mutability":"mutable","name":"packedDeposits","nameLocation":"1731:14:1","nodeType":"VariableDeclaration","scope":364,"src":"1676:69:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"},"typeName":{"id":97,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":93,"name":"address","nodeType":"ElementaryTypeName","src":"1684:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1676:47:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":96,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":94,"name":"uint256","nodeType":"ElementaryTypeName","src":"1703:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1695:27:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":95,"name":"uint256","nodeType":"ElementaryTypeName","src":"1714:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}},"visibility":"public"},{"constant":false,"documentation":{"id":99,"nodeType":"StructuredDocumentation","src":"1756:65:1","text":"@dev Deposit metadata: user => depositId => (token, merchant)"},"functionSelector":"f1adff0a","id":106,"mutability":"mutable","name":"depositMeta","nameLocation":"1885:11:1","nodeType":"VariableDeclaration","scope":364,"src":"1826:70:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_DepositMeta_$116_storage_$_$","typeString":"mapping(address => mapping(uint256 => struct YieldEscrowUltra.DepositMeta))"},"typeName":{"id":105,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":100,"name":"address","nodeType":"ElementaryTypeName","src":"1834:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1826:51:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_DepositMeta_$116_storage_$_$","typeString":"mapping(address => mapping(uint256 => struct YieldEscrowUltra.DepositMeta))"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":104,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":101,"name":"uint256","nodeType":"ElementaryTypeName","src":"1853:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1845:31:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_DepositMeta_$116_storage_$","typeString":"mapping(uint256 => struct YieldEscrowUltra.DepositMeta)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":103,"nodeType":"UserDefinedTypeName","pathNode":{"id":102,"name":"DepositMeta","nameLocations":["1864:11:1"],"nodeType":"IdentifierPath","referencedDeclaration":116,"src":"1864:11:1"},"referencedDeclaration":116,"src":"1864:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_storage_ptr","typeString":"struct YieldEscrowUltra.DepositMeta"}}}},"visibility":"public"},{"constant":false,"documentation":{"id":107,"nodeType":"StructuredDocumentation","src":"1907:28:1","text":"@dev User deposit counts"},"functionSelector":"729c3e0e","id":111,"mutability":"mutable","name":"userDepositCount","nameLocation":"1975:16:1","nodeType":"VariableDeclaration","scope":364,"src":"1940:51:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":110,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":108,"name":"address","nodeType":"ElementaryTypeName","src":"1948:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1940:27:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":109,"name":"uint256","nodeType":"ElementaryTypeName","src":"1959:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"canonicalName":"YieldEscrowUltra.DepositMeta","id":116,"members":[{"constant":false,"id":113,"mutability":"mutable","name":"token","nameLocation":"2039:5:1","nodeType":"VariableDeclaration","scope":116,"src":"2031:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":112,"name":"address","nodeType":"ElementaryTypeName","src":"2031:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":115,"mutability":"mutable","name":"merchant","nameLocation":"2062:8:1","nodeType":"VariableDeclaration","scope":116,"src":"2054:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":114,"name":"address","nodeType":"ElementaryTypeName","src":"2054:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"DepositMeta","nameLocation":"2009:11:1","nodeType":"StructDefinition","scope":364,"src":"2002:75:1","visibility":"public"},{"anonymous":false,"eventSelector":"2fc7f61216f4b9da63724a7ccba484452205b7cf651334640e3cd11201786006","id":124,"name":"DepositCreated","nameLocation":"2780:14:1","nodeType":"EventDefinition","parameters":{"id":123,"nodeType":"ParameterList","parameters":[{"constant":false,"id":118,"indexed":true,"mutability":"mutable","name":"paymentHash","nameLocation":"2811:11:1","nodeType":"VariableDeclaration","scope":124,"src":"2795:27:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":117,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2795:7:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":120,"indexed":true,"mutability":"mutable","name":"user","nameLocation":"2840:4:1","nodeType":"VariableDeclaration","scope":124,"src":"2824:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":119,"name":"address","nodeType":"ElementaryTypeName","src":"2824:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":122,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"2854:6:1","nodeType":"VariableDeclaration","scope":124,"src":"2846:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":121,"name":"uint256","nodeType":"ElementaryTypeName","src":"2846:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2794:67:1"},"src":"2774:88:1"},{"anonymous":false,"eventSelector":"1e170c3b430cc6fdcdaa453c42619ac587e13793aa81a489fab9ebd7019c2efb","id":132,"name":"PaymentReleased","nameLocation":"2873:15:1","nodeType":"EventDefinition","parameters":{"id":131,"nodeType":"ParameterList","parameters":[{"constant":false,"id":126,"indexed":true,"mutability":"mutable","name":"paymentHash","nameLocation":"2905:11:1","nodeType":"VariableDeclaration","scope":132,"src":"2889:27:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":125,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2889:7:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":128,"indexed":true,"mutability":"mutable","name":"user","nameLocation":"2934:4:1","nodeType":"VariableDeclaration","scope":132,"src":"2918:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":127,"name":"address","nodeType":"ElementaryTypeName","src":"2918:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":130,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"2948:6:1","nodeType":"VariableDeclaration","scope":132,"src":"2940:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":129,"name":"uint256","nodeType":"ElementaryTypeName","src":"2940:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2888:67:1"},"src":"2867:89:1"},{"anonymous":false,"eventSelector":"d86c88b4a367d9b81a6e00c9d3f7d01657bffef358fa8968c91c045ae99f0d52","id":138,"name":"TokenSupported","nameLocation":"2967:14:1","nodeType":"EventDefinition","parameters":{"id":137,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"2998:5:1","nodeType":"VariableDeclaration","scope":138,"src":"2982:21:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":133,"name":"address","nodeType":"ElementaryTypeName","src":"2982:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":136,"indexed":false,"mutability":"mutable","name":"supported","nameLocation":"3010:9:1","nodeType":"VariableDeclaration","scope":138,"src":"3005:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":135,"name":"bool","nodeType":"ElementaryTypeName","src":"3005:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2981:39:1"},"src":"2961:60:1"},{"errorSelector":"2c5211c6","id":140,"name":"InvalidAmount","nameLocation":"3724:13:1","nodeType":"ErrorDefinition","parameters":{"id":139,"nodeType":"ParameterList","parameters":[],"src":"3737:2:1"},"src":"3718:22:1"},{"errorSelector":"3dd1b305","id":142,"name":"TokenNotSupported","nameLocation":"3751:17:1","nodeType":"ErrorDefinition","parameters":{"id":141,"nodeType":"ParameterList","parameters":[],"src":"3768:2:1"},"src":"3745:26:1"},{"errorSelector":"ea0e906b","id":144,"name":"PaymentProcessed","nameLocation":"3782:16:1","nodeType":"ErrorDefinition","parameters":{"id":143,"nodeType":"ParameterList","parameters":[],"src":"3798:2:1"},"src":"3776:25:1"},{"errorSelector":"411321ed","id":146,"name":"DepositNotFound","nameLocation":"3812:15:1","nodeType":"ErrorDefinition","parameters":{"id":145,"nodeType":"ParameterList","parameters":[],"src":"3827:2:1"},"src":"3806:24:1"},{"errorSelector":"82b42900","id":148,"name":"Unauthorized","nameLocation":"3841:12:1","nodeType":"ErrorDefinition","parameters":{"id":147,"nodeType":"ParameterList","parameters":[],"src":"3853:2:1"},"src":"3835:21:1"},{"body":{"id":237,"nodeType":"Block","src":"5250:2457:1","statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":170,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":164,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":162,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":151,"src":"5309:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":163,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5319:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5309:11:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":169,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":165,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":151,"src":"5324:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"commonType":{"typeIdentifier":"t_rational_340282366920938463463374607431768211456_by_1","typeString":"int_const 3402...(31 digits omitted)...1456"},"id":168,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"32","id":166,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5334:1:1","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"hexValue":"313238","id":167,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5337:3:1","typeDescriptions":{"typeIdentifier":"t_rational_128_by_1","typeString":"int_const 128"},"value":"128"},"src":"5334:6:1","typeDescriptions":{"typeIdentifier":"t_rational_340282366920938463463374607431768211456_by_1","typeString":"int_const 3402...(31 digits omitted)...1456"}},"src":"5324:16:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5309:31:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":174,"nodeType":"IfStatement","src":"5305:59:1","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":171,"name":"InvalidAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":140,"src":"5349:13:1","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":172,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5349:15:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":173,"nodeType":"RevertStatement","src":"5342:22:1"}},{"condition":{"id":178,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"5378:23:1","subExpression":{"baseExpression":{"id":175,"name":"supportedTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":86,"src":"5379:15:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":177,"indexExpression":{"id":176,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":153,"src":"5395:5:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5379:22:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":182,"nodeType":"IfStatement","src":"5374:55:1","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":179,"name":"TokenNotSupported","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":142,"src":"5410:17:1","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":180,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5410:19:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":181,"nodeType":"RevertStatement","src":"5403:26:1"}},{"condition":{"baseExpression":{"id":183,"name":"processedPaymentHashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":91,"src":"5443:22:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"}},"id":185,"indexExpression":{"id":184,"name":"paymentHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":157,"src":"5466:11:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5443:35:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":189,"nodeType":"IfStatement","src":"5439:66:1","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":186,"name":"PaymentProcessed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":144,"src":"5487:16:1","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":187,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5487:18:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":188,"nodeType":"RevertStatement","src":"5480:25:1"}},{"expression":{"id":195,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":190,"name":"depositIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":160,"src":"5553:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":191,"name":"userDepositCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":111,"src":"5568:16:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":194,"indexExpression":{"expression":{"id":192,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5585:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":193,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5589:6:1","memberName":"sender","nodeType":"MemberAccess","src":"5585:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5568:28:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5553:43:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":196,"nodeType":"ExpressionStatement","src":"5553:43:1"},{"AST":{"nodeType":"YulBlock","src":"5692:681:1","statements":[{"nodeType":"YulVariableDeclaration","src":"5706:23:1","value":{"name":"token","nodeType":"YulIdentifier","src":"5724:5:1"},"variables":[{"name":"token_addr","nodeType":"YulTypedName","src":"5710:10:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"5742:25:1","value":{"arguments":[],"functionName":{"name":"caller","nodeType":"YulIdentifier","src":"5759:6:1"},"nodeType":"YulFunctionCall","src":"5759:8:1"},"variables":[{"name":"from_addr","nodeType":"YulTypedName","src":"5746:9:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"5780:24:1","value":{"arguments":[],"functionName":{"name":"address","nodeType":"YulIdentifier","src":"5795:7:1"},"nodeType":"YulFunctionCall","src":"5795:9:1"},"variables":[{"name":"to_addr","nodeType":"YulTypedName","src":"5784:7:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"5817:24:1","value":{"name":"amount","nodeType":"YulIdentifier","src":"5835:6:1"},"variables":[{"name":"amount_val","nodeType":"YulTypedName","src":"5821:10:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"5913:29:1","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"5937:4:1","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"5931:5:1"},"nodeType":"YulFunctionCall","src":"5931:11:1"},"variables":[{"name":"freeMemPtr","nodeType":"YulTypedName","src":"5917:10:1","type":""}]},{"expression":{"arguments":[{"name":"freeMemPtr","nodeType":"YulIdentifier","src":"5962:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"5974:66:1","type":"","value":"0x23b872dd00000000000000000000000000000000000000000000000000000000"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"5955:6:1"},"nodeType":"YulFunctionCall","src":"5955:86:1"},"nodeType":"YulExpressionStatement","src":"5955:86:1"},{"expression":{"arguments":[{"arguments":[{"name":"freeMemPtr","nodeType":"YulIdentifier","src":"6090:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"6102:4:1","type":"","value":"0x04"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"6086:3:1"},"nodeType":"YulFunctionCall","src":"6086:21:1"},{"name":"from_addr","nodeType":"YulIdentifier","src":"6109:9:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"6079:6:1"},"nodeType":"YulFunctionCall","src":"6079:40:1"},"nodeType":"YulExpressionStatement","src":"6079:40:1"},{"expression":{"arguments":[{"arguments":[{"name":"freeMemPtr","nodeType":"YulIdentifier","src":"6143:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"6155:4:1","type":"","value":"0x24"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"6139:3:1"},"nodeType":"YulFunctionCall","src":"6139:21:1"},{"name":"to_addr","nodeType":"YulIdentifier","src":"6162:7:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"6132:6:1"},"nodeType":"YulFunctionCall","src":"6132:38:1"},"nodeType":"YulExpressionStatement","src":"6132:38:1"},{"expression":{"arguments":[{"arguments":[{"name":"freeMemPtr","nodeType":"YulIdentifier","src":"6194:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"6206:4:1","type":"","value":"0x44"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"6190:3:1"},"nodeType":"YulFunctionCall","src":"6190:21:1"},{"name":"amount_val","nodeType":"YulIdentifier","src":"6213:10:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"6183:6:1"},"nodeType":"YulFunctionCall","src":"6183:41:1"},"nodeType":"YulExpressionStatement","src":"6183:41:1"},{"nodeType":"YulVariableDeclaration","src":"6250:65:1","value":{"arguments":[{"arguments":[],"functionName":{"name":"gas","nodeType":"YulIdentifier","src":"6270:3:1"},"nodeType":"YulFunctionCall","src":"6270:5:1"},{"name":"token_addr","nodeType":"YulIdentifier","src":"6277:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"6289:1:1","type":"","value":"0"},{"name":"freeMemPtr","nodeType":"YulIdentifier","src":"6292:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"6304:4:1","type":"","value":"0x64"},{"kind":"number","nodeType":"YulLiteral","src":"6310:1:1","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"6313:1:1","type":"","value":"0"}],"functionName":{"name":"call","nodeType":"YulIdentifier","src":"6265:4:1"},"nodeType":"YulFunctionCall","src":"6265:50:1"},"variables":[{"name":"success","nodeType":"YulTypedName","src":"6254:7:1","type":""}]},{"body":{"nodeType":"YulBlock","src":"6347:16:1","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"6356:1:1","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"6359:1:1","type":"","value":"0"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"6349:6:1"},"nodeType":"YulFunctionCall","src":"6349:12:1"},"nodeType":"YulExpressionStatement","src":"6349:12:1"}]},"condition":{"arguments":[{"name":"success","nodeType":"YulIdentifier","src":"6338:7:1"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"6331:6:1"},"nodeType":"YulFunctionCall","src":"6331:15:1"},"nodeType":"YulIf","src":"6328:35:1"}]},"evmVersion":"paris","externalReferences":[{"declaration":151,"isOffset":false,"isSlot":false,"src":"5835:6:1","valueSize":1},{"declaration":153,"isOffset":false,"isSlot":false,"src":"5724:5:1","valueSize":1}],"id":197,"nodeType":"InlineAssembly","src":"5683:690:1"},{"assignments":[199],"declarations":[{"constant":false,"id":199,"mutability":"mutable","name":"packedData","nameLocation":"6485:10:1","nodeType":"VariableDeclaration","scope":237,"src":"6477:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":198,"name":"uint256","nodeType":"ElementaryTypeName","src":"6477:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":200,"nodeType":"VariableDeclarationStatement","src":"6477:18:1"},{"AST":{"nodeType":"YulBlock","src":"6514:301:1","statements":[{"nodeType":"YulVariableDeclaration","src":"6528:68:1","value":{"arguments":[{"name":"amount","nodeType":"YulIdentifier","src":"6553:6:1"},{"kind":"number","nodeType":"YulLiteral","src":"6561:34:1","type":"","value":"0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"6549:3:1"},"nodeType":"YulFunctionCall","src":"6549:47:1"},"variables":[{"name":"amount_masked","nodeType":"YulTypedName","src":"6532:13:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"6621:52:1","value":{"arguments":[{"arguments":[],"functionName":{"name":"timestamp","nodeType":"YulIdentifier","src":"6649:9:1"},"nodeType":"YulFunctionCall","src":"6649:11:1"},{"kind":"number","nodeType":"YulLiteral","src":"6662:10:1","type":"","value":"0xFFFFFFFF"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"6645:3:1"},"nodeType":"YulFunctionCall","src":"6645:28:1"},"variables":[{"name":"timestamp_masked","nodeType":"YulTypedName","src":"6625:16:1","type":""}]},{"nodeType":"YulAssignment","src":"6746:59:1","value":{"arguments":[{"name":"amount_masked","nodeType":"YulIdentifier","src":"6763:13:1"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"6782:3:1","type":"","value":"128"},{"name":"timestamp_masked","nodeType":"YulIdentifier","src":"6787:16:1"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"6778:3:1"},"nodeType":"YulFunctionCall","src":"6778:26:1"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"6760:2:1"},"nodeType":"YulFunctionCall","src":"6760:45:1"},"variableNames":[{"name":"packedData","nodeType":"YulIdentifier","src":"6746:10:1"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":151,"isOffset":false,"isSlot":false,"src":"6553:6:1","valueSize":1},{"declaration":199,"isOffset":false,"isSlot":false,"src":"6746:10:1","valueSize":1}],"id":201,"nodeType":"InlineAssembly","src":"6505:310:1"},{"expression":{"id":209,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":202,"name":"packedDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":98,"src":"6875:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":206,"indexExpression":{"expression":{"id":203,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"6890:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":204,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6894:6:1","memberName":"sender","nodeType":"MemberAccess","src":"6890:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6875:26:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":207,"indexExpression":{"id":205,"name":"depositIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":160,"src":"6902:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6875:40:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":208,"name":"packedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":199,"src":"6918:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6875:53:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":210,"nodeType":"ExpressionStatement","src":"6875:53:1"},{"expression":{"id":221,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":211,"name":"depositMeta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":106,"src":"6938:11:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_DepositMeta_$116_storage_$_$","typeString":"mapping(address => mapping(uint256 => struct YieldEscrowUltra.DepositMeta storage ref))"}},"id":215,"indexExpression":{"expression":{"id":212,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"6950:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6954:6:1","memberName":"sender","nodeType":"MemberAccess","src":"6950:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6938:23:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_DepositMeta_$116_storage_$","typeString":"mapping(uint256 => struct YieldEscrowUltra.DepositMeta storage ref)"}},"id":216,"indexExpression":{"id":214,"name":"depositIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":160,"src":"6962:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6938:37:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_storage","typeString":"struct YieldEscrowUltra.DepositMeta storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":218,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":153,"src":"6990:5:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":219,"name":"merchant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":155,"src":"6997:8:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":217,"name":"DepositMeta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":116,"src":"6978:11:1","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_DepositMeta_$116_storage_ptr_$","typeString":"type(struct YieldEscrowUltra.DepositMeta storage pointer)"}},"id":220,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6978:28:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_memory_ptr","typeString":"struct YieldEscrowUltra.DepositMeta memory"}},"src":"6938:68:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_storage","typeString":"struct YieldEscrowUltra.DepositMeta storage ref"}},"id":222,"nodeType":"ExpressionStatement","src":"6938:68:1"},{"AST":{"nodeType":"YulBlock","src":"7091:416:1","statements":[{"nodeType":"YulVariableDeclaration","src":"7151:20:1","value":{"arguments":[],"functionName":{"name":"caller","nodeType":"YulIdentifier","src":"7163:6:1"},"nodeType":"YulFunctionCall","src":"7163:8:1"},"variables":[{"name":"user","nodeType":"YulTypedName","src":"7155:4:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"7184:33:1","value":{"name":"userDepositCount.slot","nodeType":"YulIdentifier","src":"7196:21:1"},"variables":[{"name":"slot","nodeType":"YulTypedName","src":"7188:4:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"7230:15:1","value":{"name":"user","nodeType":"YulIdentifier","src":"7241:4:1"},"variables":[{"name":"key","nodeType":"YulTypedName","src":"7234:3:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"7258:51:1","value":{"arguments":[{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"7290:4:1","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"7284:5:1"},"nodeType":"YulFunctionCall","src":"7284:11:1"},{"kind":"number","nodeType":"YulLiteral","src":"7297:4:1","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"7280:3:1"},"nodeType":"YulFunctionCall","src":"7280:22:1"},{"kind":"number","nodeType":"YulLiteral","src":"7304:4:1","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"7270:9:1"},"nodeType":"YulFunctionCall","src":"7270:39:1"},"variables":[{"name":"hash","nodeType":"YulTypedName","src":"7262:4:1","type":""}]},{"expression":{"arguments":[{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"7339:4:1","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"7333:5:1"},"nodeType":"YulFunctionCall","src":"7333:11:1"},{"kind":"number","nodeType":"YulLiteral","src":"7346:4:1","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"7329:3:1"},"nodeType":"YulFunctionCall","src":"7329:22:1"},{"name":"key","nodeType":"YulIdentifier","src":"7353:3:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"7322:6:1"},"nodeType":"YulFunctionCall","src":"7322:35:1"},"nodeType":"YulExpressionStatement","src":"7322:35:1"},{"expression":{"arguments":[{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"7387:4:1","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"7381:5:1"},"nodeType":"YulFunctionCall","src":"7381:11:1"},{"kind":"number","nodeType":"YulLiteral","src":"7394:4:1","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"7377:3:1"},"nodeType":"YulFunctionCall","src":"7377:22:1"},{"name":"slot","nodeType":"YulIdentifier","src":"7401:4:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"7370:6:1"},"nodeType":"YulFunctionCall","src":"7370:36:1"},"nodeType":"YulExpressionStatement","src":"7370:36:1"},{"nodeType":"YulVariableDeclaration","src":"7419:31:1","value":{"arguments":[{"name":"hash","nodeType":"YulIdentifier","src":"7445:4:1"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"7439:5:1"},"nodeType":"YulFunctionCall","src":"7439:11:1"},"variables":[{"name":"currentCount","nodeType":"YulTypedName","src":"7423:12:1","type":""}]},{"expression":{"arguments":[{"name":"hash","nodeType":"YulIdentifier","src":"7470:4:1"},{"arguments":[{"name":"currentCount","nodeType":"YulIdentifier","src":"7480:12:1"},{"kind":"number","nodeType":"YulLiteral","src":"7494:1:1","type":"","value":"1"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"7476:3:1"},"nodeType":"YulFunctionCall","src":"7476:20:1"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"7463:6:1"},"nodeType":"YulFunctionCall","src":"7463:34:1"},"nodeType":"YulExpressionStatement","src":"7463:34:1"}]},"evmVersion":"paris","externalReferences":[{"declaration":111,"isOffset":false,"isSlot":true,"src":"7196:21:1","suffix":"slot","valueSize":1}],"id":223,"nodeType":"InlineAssembly","src":"7082:425:1"},{"expression":{"id":228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":224,"name":"processedPaymentHashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":91,"src":"7562:22:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"}},"id":226,"indexExpression":{"id":225,"name":"paymentHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":157,"src":"7585:11:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"7562:35:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":227,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"7600:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"7562:42:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":229,"nodeType":"ExpressionStatement","src":"7562:42:1"},{"eventCall":{"arguments":[{"id":231,"name":"paymentHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":157,"src":"7668:11:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"expression":{"id":232,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"7681:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7685:6:1","memberName":"sender","nodeType":"MemberAccess","src":"7681:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":234,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":151,"src":"7693:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":230,"name":"DepositCreated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":124,"src":"7653:14:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$_t_address_$_t_uint256_$returns$__$","typeString":"function (bytes32,address,uint256)"}},"id":235,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7653:47:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":236,"nodeType":"EmitStatement","src":"7648:52:1"}]},"documentation":{"id":149,"nodeType":"StructuredDocumentation","src":"4569:505:1","text":" @dev Ultra-minimal deposit function targeting <100k gas\n @param amount Deposit amount (must be > 0 and < 2^128)\n @param token Token address\n @param merchant Merchant address\n @param paymentHash Unique payment hash\n @return depositIndex The deposit index\n \n EXTREME OPTIMIZATIONS:\n - Packed storage (amount + timestamp + status in single slot)\n - Minimal validation\n - Assembly for gas efficiency\n - No security modifiers"},"functionSelector":"84e9abca","id":238,"implemented":true,"kind":"function","modifiers":[],"name":"createDeposit","nameLocation":"5088:13:1","nodeType":"FunctionDefinition","parameters":{"id":158,"nodeType":"ParameterList","parameters":[{"constant":false,"id":151,"mutability":"mutable","name":"amount","nameLocation":"5119:6:1","nodeType":"VariableDeclaration","scope":238,"src":"5111:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":150,"name":"uint256","nodeType":"ElementaryTypeName","src":"5111:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":153,"mutability":"mutable","name":"token","nameLocation":"5143:5:1","nodeType":"VariableDeclaration","scope":238,"src":"5135:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":152,"name":"address","nodeType":"ElementaryTypeName","src":"5135:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":155,"mutability":"mutable","name":"merchant","nameLocation":"5166:8:1","nodeType":"VariableDeclaration","scope":238,"src":"5158:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":154,"name":"address","nodeType":"ElementaryTypeName","src":"5158:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":157,"mutability":"mutable","name":"paymentHash","nameLocation":"5192:11:1","nodeType":"VariableDeclaration","scope":238,"src":"5184:19:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":156,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5184:7:1","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"5101:108:1"},"returnParameters":{"id":161,"nodeType":"ParameterList","parameters":[{"constant":false,"id":160,"mutability":"mutable","name":"depositIndex","nameLocation":"5236:12:1","nodeType":"VariableDeclaration","scope":238,"src":"5228:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":159,"name":"uint256","nodeType":"ElementaryTypeName","src":"5228:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5227:22:1"},"scope":364,"src":"5079:2628:1","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":295,"nodeType":"Block","src":"7860:2103:1","statements":[{"assignments":[247],"declarations":[{"constant":false,"id":247,"mutability":"mutable","name":"packedData","nameLocation":"7878:10:1","nodeType":"VariableDeclaration","scope":295,"src":"7870:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":246,"name":"uint256","nodeType":"ElementaryTypeName","src":"7870:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":253,"initialValue":{"baseExpression":{"baseExpression":{"id":248,"name":"packedDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":98,"src":"7891:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":250,"indexExpression":{"id":249,"name":"user","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":241,"src":"7906:4:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7891:20:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":252,"indexExpression":{"id":251,"name":"depositIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":243,"src":"7912:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7891:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7870:55:1"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":256,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":254,"name":"packedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":247,"src":"7939:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":255,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7953:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7939:15:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":260,"nodeType":"IfStatement","src":"7935:45:1","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":257,"name":"DepositNotFound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":146,"src":"7963:15:1","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":258,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7963:17:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":259,"nodeType":"RevertStatement","src":"7956:24:1"}},{"assignments":[263],"declarations":[{"constant":false,"id":263,"mutability":"mutable","name":"meta","nameLocation":"8018:4:1","nodeType":"VariableDeclaration","scope":295,"src":"7999:23:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_memory_ptr","typeString":"struct YieldEscrowUltra.DepositMeta"},"typeName":{"id":262,"nodeType":"UserDefinedTypeName","pathNode":{"id":261,"name":"DepositMeta","nameLocations":["7999:11:1"],"nodeType":"IdentifierPath","referencedDeclaration":116,"src":"7999:11:1"},"referencedDeclaration":116,"src":"7999:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_storage_ptr","typeString":"struct YieldEscrowUltra.DepositMeta"}},"visibility":"internal"}],"id":269,"initialValue":{"baseExpression":{"baseExpression":{"id":264,"name":"depositMeta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":106,"src":"8025:11:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_DepositMeta_$116_storage_$_$","typeString":"mapping(address => mapping(uint256 => struct YieldEscrowUltra.DepositMeta storage ref))"}},"id":266,"indexExpression":{"id":265,"name":"user","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":241,"src":"8037:4:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8025:17:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_DepositMeta_$116_storage_$","typeString":"mapping(uint256 => struct YieldEscrowUltra.DepositMeta storage ref)"}},"id":268,"indexExpression":{"id":267,"name":"depositIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":243,"src":"8043:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8025:31:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_storage","typeString":"struct YieldEscrowUltra.DepositMeta storage ref"}},"nodeType":"VariableDeclarationStatement","src":"7999:57:1"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":270,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8070:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":271,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8074:6:1","memberName":"sender","nodeType":"MemberAccess","src":"8070:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":272,"name":"meta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":263,"src":"8084:4:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_memory_ptr","typeString":"struct YieldEscrowUltra.DepositMeta memory"}},"id":273,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8089:8:1","memberName":"merchant","nodeType":"MemberAccess","referencedDeclaration":115,"src":"8084:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8070:27:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":278,"nodeType":"IfStatement","src":"8066:54:1","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":275,"name":"Unauthorized","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":148,"src":"8106:12:1","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":276,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8106:14:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":277,"nodeType":"RevertStatement","src":"8099:21:1"}},{"AST":{"nodeType":"YulBlock","src":"8210:118:1","statements":[{"nodeType":"YulVariableDeclaration","src":"8224:50:1","value":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"8251:3:1","type":"","value":"160"},{"name":"packedData","nodeType":"YulIdentifier","src":"8256:10:1"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"8247:3:1"},"nodeType":"YulFunctionCall","src":"8247:20:1"},{"kind":"number","nodeType":"YulLiteral","src":"8269:4:1","type":"","value":"0xFF"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"8243:3:1"},"nodeType":"YulFunctionCall","src":"8243:31:1"},"variables":[{"name":"releasedBit","nodeType":"YulTypedName","src":"8228:11:1","type":""}]},{"body":{"nodeType":"YulBlock","src":"8302:16:1","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"8311:1:1","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"8314:1:1","type":"","value":"0"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"8304:6:1"},"nodeType":"YulFunctionCall","src":"8304:12:1"},"nodeType":"YulExpressionStatement","src":"8304:12:1"}]},"condition":{"name":"releasedBit","nodeType":"YulIdentifier","src":"8290:11:1"},"nodeType":"YulIf","src":"8287:31:1"}]},"evmVersion":"paris","externalReferences":[{"declaration":247,"isOffset":false,"isSlot":false,"src":"8256:10:1","valueSize":1}],"id":279,"nodeType":"InlineAssembly","src":"8201:127:1"},{"assignments":[281],"declarations":[{"constant":false,"id":281,"mutability":"mutable","name":"amount","nameLocation":"8397:6:1","nodeType":"VariableDeclaration","scope":295,"src":"8389:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":280,"name":"uint256","nodeType":"ElementaryTypeName","src":"8389:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":282,"nodeType":"VariableDeclarationStatement","src":"8389:14:1"},{"AST":{"nodeType":"YulBlock","src":"8422:103:1","statements":[{"nodeType":"YulAssignment","src":"8436:61:1","value":{"arguments":[{"name":"packedData","nodeType":"YulIdentifier","src":"8450:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"8462:34:1","type":"","value":"0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"8446:3:1"},"nodeType":"YulFunctionCall","src":"8446:51:1"},"variableNames":[{"name":"amount","nodeType":"YulIdentifier","src":"8436:6:1"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":281,"isOffset":false,"isSlot":false,"src":"8436:6:1","valueSize":1},{"declaration":247,"isOffset":false,"isSlot":false,"src":"8450:10:1","valueSize":1}],"id":283,"nodeType":"InlineAssembly","src":"8413:112:1"},{"AST":{"nodeType":"YulBlock","src":"8580:605:1","statements":[{"nodeType":"YulVariableDeclaration","src":"8594:48:1","value":{"arguments":[{"name":"packedData","nodeType":"YulIdentifier","src":"8618:10:1"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"8634:3:1","type":"","value":"160"},{"kind":"number","nodeType":"YulLiteral","src":"8639:1:1","type":"","value":"1"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"8630:3:1"},"nodeType":"YulFunctionCall","src":"8630:11:1"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"8615:2:1"},"nodeType":"YulFunctionCall","src":"8615:27:1"},"variables":[{"name":"newPackedData","nodeType":"YulTypedName","src":"8598:13:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"8701:20:1","value":{"name":"user","nodeType":"YulIdentifier","src":"8717:4:1"},"variables":[{"name":"userAddr","nodeType":"YulTypedName","src":"8705:8:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"8734:25:1","value":{"name":"depositIndex","nodeType":"YulIdentifier","src":"8747:12:1"},"variables":[{"name":"index","nodeType":"YulTypedName","src":"8738:5:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"8849:36:1","value":{"name":"packedDeposits.slot","nodeType":"YulIdentifier","src":"8866:19:1"},"variables":[{"name":"innerSlot","nodeType":"YulTypedName","src":"8853:9:1","type":""}]},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"8905:4:1","type":"","value":"0x00"},{"name":"userAddr","nodeType":"YulIdentifier","src":"8911:8:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"8898:6:1"},"nodeType":"YulFunctionCall","src":"8898:22:1"},"nodeType":"YulExpressionStatement","src":"8898:22:1"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"8940:4:1","type":"","value":"0x20"},{"name":"innerSlot","nodeType":"YulIdentifier","src":"8946:9:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"8933:6:1"},"nodeType":"YulFunctionCall","src":"8933:23:1"},"nodeType":"YulExpressionStatement","src":"8933:23:1"},{"nodeType":"YulVariableDeclaration","src":"8969:40:1","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"8998:4:1","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"9004:4:1","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"8988:9:1"},"nodeType":"YulFunctionCall","src":"8988:21:1"},"variables":[{"name":"userMapSlot","nodeType":"YulTypedName","src":"8973:11:1","type":""}]},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"9029:4:1","type":"","value":"0x00"},{"name":"index","nodeType":"YulIdentifier","src":"9035:5:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"9022:6:1"},"nodeType":"YulFunctionCall","src":"9022:19:1"},"nodeType":"YulExpressionStatement","src":"9022:19:1"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"9061:4:1","type":"","value":"0x20"},{"name":"userMapSlot","nodeType":"YulIdentifier","src":"9067:11:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"9054:6:1"},"nodeType":"YulFunctionCall","src":"9054:25:1"},"nodeType":"YulExpressionStatement","src":"9054:25:1"},{"nodeType":"YulVariableDeclaration","src":"9092:38:1","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"9119:4:1","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"9125:4:1","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"9109:9:1"},"nodeType":"YulFunctionCall","src":"9109:21:1"},"variables":[{"name":"finalSlot","nodeType":"YulTypedName","src":"9096:9:1","type":""}]},{"expression":{"arguments":[{"name":"finalSlot","nodeType":"YulIdentifier","src":"9150:9:1"},{"name":"newPackedData","nodeType":"YulIdentifier","src":"9161:13:1"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"9143:6:1"},"nodeType":"YulFunctionCall","src":"9143:32:1"},"nodeType":"YulExpressionStatement","src":"9143:32:1"}]},"evmVersion":"paris","externalReferences":[{"declaration":243,"isOffset":false,"isSlot":false,"src":"8747:12:1","valueSize":1},{"declaration":247,"isOffset":false,"isSlot":false,"src":"8618:10:1","valueSize":1},{"declaration":98,"isOffset":false,"isSlot":true,"src":"8866:19:1","suffix":"slot","valueSize":1},{"declaration":241,"isOffset":false,"isSlot":false,"src":"8717:4:1","valueSize":1}],"id":284,"nodeType":"InlineAssembly","src":"8571:614:1"},{"AST":{"nodeType":"YulBlock","src":"9258:614:1","statements":[{"nodeType":"YulVariableDeclaration","src":"9272:40:1","value":{"arguments":[{"arguments":[{"name":"meta","nodeType":"YulIdentifier","src":"9300:4:1"},{"kind":"number","nodeType":"YulLiteral","src":"9306:4:1","type":"","value":"0x00"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"9296:3:1"},"nodeType":"YulFunctionCall","src":"9296:15:1"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"9290:5:1"},"nodeType":"YulFunctionCall","src":"9290:22:1"},"variables":[{"name":"token_addr","nodeType":"YulTypedName","src":"9276:10:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"9339:43:1","value":{"arguments":[{"arguments":[{"name":"meta","nodeType":"YulIdentifier","src":"9370:4:1"},{"kind":"number","nodeType":"YulLiteral","src":"9376:4:1","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"9366:3:1"},"nodeType":"YulFunctionCall","src":"9366:15:1"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"9360:5:1"},"nodeType":"YulFunctionCall","src":"9360:22:1"},"variables":[{"name":"merchant_addr","nodeType":"YulTypedName","src":"9343:13:1","type":""}]},{"nodeType":"YulVariableDeclaration","src":"9467:29:1","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"9491:4:1","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"9485:5:1"},"nodeType":"YulFunctionCall","src":"9485:11:1"},"variables":[{"name":"freeMemPtr","nodeType":"YulTypedName","src":"9471:10:1","type":""}]},{"expression":{"arguments":[{"name":"freeMemPtr","nodeType":"YulIdentifier","src":"9516:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"9528:66:1","type":"","value":"0xa9059cbb00000000000000000000000000000000000000000000000000000000"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"9509:6:1"},"nodeType":"YulFunctionCall","src":"9509:86:1"},"nodeType":"YulExpressionStatement","src":"9509:86:1"},{"expression":{"arguments":[{"arguments":[{"name":"freeMemPtr","nodeType":"YulIdentifier","src":"9640:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"9652:4:1","type":"","value":"0x04"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"9636:3:1"},"nodeType":"YulFunctionCall","src":"9636:21:1"},{"name":"merchant_addr","nodeType":"YulIdentifier","src":"9659:13:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"9629:6:1"},"nodeType":"YulFunctionCall","src":"9629:44:1"},"nodeType":"YulExpressionStatement","src":"9629:44:1"},{"expression":{"arguments":[{"arguments":[{"name":"freeMemPtr","nodeType":"YulIdentifier","src":"9697:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"9709:4:1","type":"","value":"0x24"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"9693:3:1"},"nodeType":"YulFunctionCall","src":"9693:21:1"},{"name":"amount","nodeType":"YulIdentifier","src":"9716:6:1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"9686:6:1"},"nodeType":"YulFunctionCall","src":"9686:37:1"},"nodeType":"YulExpressionStatement","src":"9686:37:1"},{"nodeType":"YulVariableDeclaration","src":"9749:65:1","value":{"arguments":[{"arguments":[],"functionName":{"name":"gas","nodeType":"YulIdentifier","src":"9769:3:1"},"nodeType":"YulFunctionCall","src":"9769:5:1"},{"name":"token_addr","nodeType":"YulIdentifier","src":"9776:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"9788:1:1","type":"","value":"0"},{"name":"freeMemPtr","nodeType":"YulIdentifier","src":"9791:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"9803:4:1","type":"","value":"0x44"},{"kind":"number","nodeType":"YulLiteral","src":"9809:1:1","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"9812:1:1","type":"","value":"0"}],"functionName":{"name":"call","nodeType":"YulIdentifier","src":"9764:4:1"},"nodeType":"YulFunctionCall","src":"9764:50:1"},"variables":[{"name":"success","nodeType":"YulTypedName","src":"9753:7:1","type":""}]},{"body":{"nodeType":"YulBlock","src":"9846:16:1","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"9855:1:1","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"9858:1:1","type":"","value":"0"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"9848:6:1"},"nodeType":"YulFunctionCall","src":"9848:12:1"},"nodeType":"YulExpressionStatement","src":"9848:12:1"}]},"condition":{"arguments":[{"name":"success","nodeType":"YulIdentifier","src":"9837:7:1"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"9830:6:1"},"nodeType":"YulFunctionCall","src":"9830:15:1"},"nodeType":"YulIf","src":"9827:35:1"}]},"evmVersion":"paris","externalReferences":[{"declaration":281,"isOffset":false,"isSlot":false,"src":"9716:6:1","valueSize":1},{"declaration":263,"isOffset":false,"isSlot":false,"src":"9300:4:1","valueSize":1},{"declaration":263,"isOffset":false,"isSlot":false,"src":"9370:4:1","valueSize":1}],"id":285,"nodeType":"InlineAssembly","src":"9249:623:1"},{"eventCall":{"arguments":[{"arguments":[{"hexValue":"30","id":289,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9919:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":288,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9911:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":287,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9911:7:1","typeDescriptions":{}}},"id":290,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9911:10:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":291,"name":"user","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":241,"src":"9923:4:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":292,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":281,"src":"9929:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":286,"name":"PaymentReleased","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132,"src":"9895:15:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$_t_address_$_t_uint256_$returns$__$","typeString":"function (bytes32,address,uint256)"}},"id":293,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9895:41:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":294,"nodeType":"EmitStatement","src":"9890:46:1"}]},"documentation":{"id":239,"nodeType":"StructuredDocumentation","src":"7717:69:1","text":" @dev Release payment to merchant (ultra optimized)"},"functionSelector":"966ecf3b","id":296,"implemented":true,"kind":"function","modifiers":[],"name":"releasePayment","nameLocation":"7800:14:1","nodeType":"FunctionDefinition","parameters":{"id":244,"nodeType":"ParameterList","parameters":[{"constant":false,"id":241,"mutability":"mutable","name":"user","nameLocation":"7823:4:1","nodeType":"VariableDeclaration","scope":296,"src":"7815:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":240,"name":"address","nodeType":"ElementaryTypeName","src":"7815:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":243,"mutability":"mutable","name":"depositIndex","nameLocation":"7837:12:1","nodeType":"VariableDeclaration","scope":296,"src":"7829:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":242,"name":"uint256","nodeType":"ElementaryTypeName","src":"7829:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7814:36:1"},"returnParameters":{"id":245,"nodeType":"ParameterList","parameters":[],"src":"7860:0:1"},"scope":364,"src":"7791:2172:1","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":315,"nodeType":"Block","src":"10844:98:1","statements":[{"expression":{"id":308,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":304,"name":"supportedTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":86,"src":"10854:15:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":306,"indexExpression":{"id":305,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":299,"src":"10870:5:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10854:22:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":307,"name":"supported","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"10879:9:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"10854:34:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":309,"nodeType":"ExpressionStatement","src":"10854:34:1"},{"eventCall":{"arguments":[{"id":311,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":299,"src":"10918:5:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":312,"name":"supported","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"10925:9:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":310,"name":"TokenSupported","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":138,"src":"10903:14:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_bool_$returns$__$","typeString":"function (address,bool)"}},"id":313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10903:32:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":314,"nodeType":"EmitStatement","src":"10898:37:1"}]},"documentation":{"id":297,"nodeType":"StructuredDocumentation","src":"10695:77:1","text":" @dev Set token support (no access control for gas savings)"},"functionSelector":"e7986466","id":316,"implemented":true,"kind":"function","modifiers":[],"name":"setSupportedToken","nameLocation":"10786:17:1","nodeType":"FunctionDefinition","parameters":{"id":302,"nodeType":"ParameterList","parameters":[{"constant":false,"id":299,"mutability":"mutable","name":"token","nameLocation":"10812:5:1","nodeType":"VariableDeclaration","scope":316,"src":"10804:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":298,"name":"address","nodeType":"ElementaryTypeName","src":"10804:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":301,"mutability":"mutable","name":"supported","nameLocation":"10824:9:1","nodeType":"VariableDeclaration","scope":316,"src":"10819:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":300,"name":"bool","nodeType":"ElementaryTypeName","src":"10819:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"10803:31:1"},"returnParameters":{"id":303,"nodeType":"ParameterList","parameters":[],"src":"10844:0:1"},"scope":364,"src":"10777:165:1","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":362,"nodeType":"Block","src":"11906:497:1","statements":[{"assignments":[335],"declarations":[{"constant":false,"id":335,"mutability":"mutable","name":"packedData","nameLocation":"11924:10:1","nodeType":"VariableDeclaration","scope":362,"src":"11916:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":334,"name":"uint256","nodeType":"ElementaryTypeName","src":"11916:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":341,"initialValue":{"baseExpression":{"baseExpression":{"id":336,"name":"packedDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":98,"src":"11937:14:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":338,"indexExpression":{"id":337,"name":"user","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":319,"src":"11952:4:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11937:20:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":340,"indexExpression":{"id":339,"name":"depositIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"11958:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11937:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11916:55:1"},{"assignments":[344],"declarations":[{"constant":false,"id":344,"mutability":"mutable","name":"meta","nameLocation":"12000:4:1","nodeType":"VariableDeclaration","scope":362,"src":"11981:23:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_memory_ptr","typeString":"struct YieldEscrowUltra.DepositMeta"},"typeName":{"id":343,"nodeType":"UserDefinedTypeName","pathNode":{"id":342,"name":"DepositMeta","nameLocations":["11981:11:1"],"nodeType":"IdentifierPath","referencedDeclaration":116,"src":"11981:11:1"},"referencedDeclaration":116,"src":"11981:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_storage_ptr","typeString":"struct YieldEscrowUltra.DepositMeta"}},"visibility":"internal"}],"id":350,"initialValue":{"baseExpression":{"baseExpression":{"id":345,"name":"depositMeta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":106,"src":"12007:11:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_struct$_DepositMeta_$116_storage_$_$","typeString":"mapping(address => mapping(uint256 => struct YieldEscrowUltra.DepositMeta storage ref))"}},"id":347,"indexExpression":{"id":346,"name":"user","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":319,"src":"12019:4:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12007:17:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_DepositMeta_$116_storage_$","typeString":"mapping(uint256 => struct YieldEscrowUltra.DepositMeta storage ref)"}},"id":349,"indexExpression":{"id":348,"name":"depositIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"12025:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12007:31:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_storage","typeString":"struct YieldEscrowUltra.DepositMeta storage ref"}},"nodeType":"VariableDeclarationStatement","src":"11981:57:1"},{"AST":{"nodeType":"YulBlock","src":"12066:260:1","statements":[{"nodeType":"YulAssignment","src":"12080:61:1","value":{"arguments":[{"name":"packedData","nodeType":"YulIdentifier","src":"12094:10:1"},{"kind":"number","nodeType":"YulLiteral","src":"12106:34:1","type":"","value":"0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"12090:3:1"},"nodeType":"YulFunctionCall","src":"12090:51:1"},"variableNames":[{"name":"amount","nodeType":"YulIdentifier","src":"12080:6:1"}]},{"nodeType":"YulAssignment","src":"12172:57:1","value":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"12200:3:1","type":"","value":"128"},{"name":"packedData","nodeType":"YulIdentifier","src":"12205:10:1"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"12196:3:1"},"nodeType":"YulFunctionCall","src":"12196:20:1"},{"kind":"number","nodeType":"YulLiteral","src":"12218:10:1","type":"","value":"0xFFFFFFFF"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"12192:3:1"},"nodeType":"YulFunctionCall","src":"12192:37:1"},"variableNames":[{"name":"depositTimestamp","nodeType":"YulIdentifier","src":"12172:16:1"}]},{"nodeType":"YulAssignment","src":"12258:43:1","value":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"12278:3:1","type":"","value":"160"},{"name":"packedData","nodeType":"YulIdentifier","src":"12283:10:1"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"12274:3:1"},"nodeType":"YulFunctionCall","src":"12274:20:1"},{"kind":"number","nodeType":"YulLiteral","src":"12296:4:1","type":"","value":"0xFF"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"12270:3:1"},"nodeType":"YulFunctionCall","src":"12270:31:1"},"variableNames":[{"name":"released","nodeType":"YulIdentifier","src":"12258:8:1"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":324,"isOffset":false,"isSlot":false,"src":"12080:6:1","valueSize":1},{"declaration":326,"isOffset":false,"isSlot":false,"src":"12172:16:1","valueSize":1},{"declaration":335,"isOffset":false,"isSlot":false,"src":"12094:10:1","valueSize":1},{"declaration":335,"isOffset":false,"isSlot":false,"src":"12205:10:1","valueSize":1},{"declaration":335,"isOffset":false,"isSlot":false,"src":"12283:10:1","valueSize":1},{"declaration":328,"isOffset":false,"isSlot":false,"src":"12258:8:1","valueSize":1}],"id":351,"nodeType":"InlineAssembly","src":"12057:269:1"},{"expression":{"id":355,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":352,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":330,"src":"12344:5:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":353,"name":"meta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":344,"src":"12352:4:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_memory_ptr","typeString":"struct YieldEscrowUltra.DepositMeta memory"}},"id":354,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12357:5:1","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":113,"src":"12352:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"12344:18:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":356,"nodeType":"ExpressionStatement","src":"12344:18:1"},{"expression":{"id":360,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":357,"name":"merchant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":332,"src":"12372:8:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":358,"name":"meta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":344,"src":"12383:4:1","typeDescriptions":{"typeIdentifier":"t_struct$_DepositMeta_$116_memory_ptr","typeString":"struct YieldEscrowUltra.DepositMeta memory"}},"id":359,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12388:8:1","memberName":"merchant","nodeType":"MemberAccess","referencedDeclaration":115,"src":"12383:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"12372:24:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":361,"nodeType":"ExpressionStatement","src":"12372:24:1"}]},"documentation":{"id":317,"nodeType":"StructuredDocumentation","src":"11637:49:1","text":" @dev Get unpacked deposit data"},"functionSelector":"2726b506","id":363,"implemented":true,"kind":"function","modifiers":[],"name":"getDeposit","nameLocation":"11700:10:1","nodeType":"FunctionDefinition","parameters":{"id":322,"nodeType":"ParameterList","parameters":[{"constant":false,"id":319,"mutability":"mutable","name":"user","nameLocation":"11719:4:1","nodeType":"VariableDeclaration","scope":363,"src":"11711:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":318,"name":"address","nodeType":"ElementaryTypeName","src":"11711:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":321,"mutability":"mutable","name":"depositIndex","nameLocation":"11733:12:1","nodeType":"VariableDeclaration","scope":363,"src":"11725:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":320,"name":"uint256","nodeType":"ElementaryTypeName","src":"11725:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11710:36:1"},"returnParameters":{"id":333,"nodeType":"ParameterList","parameters":[{"constant":false,"id":324,"mutability":"mutable","name":"amount","nameLocation":"11787:6:1","nodeType":"VariableDeclaration","scope":363,"src":"11779:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":323,"name":"uint256","nodeType":"ElementaryTypeName","src":"11779:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":326,"mutability":"mutable","name":"depositTimestamp","nameLocation":"11811:16:1","nodeType":"VariableDeclaration","scope":363,"src":"11803:24:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":325,"name":"uint256","nodeType":"ElementaryTypeName","src":"11803:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":328,"mutability":"mutable","name":"released","nameLocation":"11842:8:1","nodeType":"VariableDeclaration","scope":363,"src":"11837:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":327,"name":"bool","nodeType":"ElementaryTypeName","src":"11837:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":330,"mutability":"mutable","name":"token","nameLocation":"11868:5:1","nodeType":"VariableDeclaration","scope":363,"src":"11860:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":329,"name":"address","nodeType":"ElementaryTypeName","src":"11860:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":332,"mutability":"mutable","name":"merchant","nameLocation":"11891:8:1","nodeType":"VariableDeclaration","scope":363,"src":"11883:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":331,"name":"address","nodeType":"ElementaryTypeName","src":"11883:7:1","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"11769:136:1"},"scope":364,"src":"11691:712:1","stateMutability":"view","virtual":false,"visibility":"external"}],"scope":365,"src":"568:11837:1","usedErrors":[140,142,144,146,148],"usedEvents":[124,132,138]}],"src":"32:12373:1"},"id":1}},"contracts":{"@openzeppelin/contracts/token/ERC20/IERC20.sol":{"IERC20":{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}],"devdoc":{"details":"Interface of the ERC20 standard as defined in the EIP.","events":{"Approval(address,address,uint256)":{"details":"Emitted when the allowance of a `spender` for an `owner` is set by a call to {approve}. `value` is the new allowance."},"Transfer(address,address,uint256)":{"details":"Emitted when `value` tokens are moved from one account (`from`) to another (`to`). Note that `value` may be zero."}},"kind":"dev","methods":{"allowance(address,address)":{"details":"Returns the remaining number of tokens that `spender` will be allowed to spend on behalf of `owner` through {transferFrom}. This is zero by default. This value changes when {approve} or {transferFrom} are called."},"approve(address,uint256)":{"details":"Sets `amount` as the allowance of `spender` over the caller's tokens. Returns a boolean value indicating whether the operation succeeded. IMPORTANT: Beware that changing an allowance with this method brings the risk that someone may use both the old and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this race condition is to first reduce the spender's allowance to 0 and set the desired value afterwards: https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729 Emits an {Approval} event."},"balanceOf(address)":{"details":"Returns the amount of tokens owned by `account`."},"totalSupply()":{"details":"Returns the amount of tokens in existence."},"transfer(address,uint256)":{"details":"Moves `amount` tokens from the caller's account to `to`. Returns a boolean value indicating whether the operation succeeded. Emits a {Transfer} event."},"transferFrom(address,address,uint256)":{"details":"Moves `amount` tokens from `from` to `to` using the allowance mechanism. `amount` is then deducted from the caller's allowance. Returns a boolean value indicating whether the operation succeeded. Emits a {Transfer} event."}},"version":1},"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"","opcodes":"","sourceMap":""},"deployedBytecode":{"functionDebugData":{},"generatedSources":[],"immutableReferences":{},"linkReferences":{},"object":"","opcodes":"","sourceMap":""},"gasEstimates":null,"methodIdentifiers":{"allowance(address,address)":"dd62ed3e","approve(address,uint256)":"095ea7b3","balanceOf(address)":"70a08231","totalSupply()":"18160ddd","transfer(address,uint256)":"a9059cbb","transferFrom(address,address,uint256)":"23b872dd"}},"metadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Interface of the ERC20 standard as defined in the EIP.\",\"events\":{\"Approval(address,address,uint256)\":{\"details\":\"Emitted when the allowance of a `spender` for an `owner` is set by a call to {approve}. `value` is the new allowance.\"},\"Transfer(address,address,uint256)\":{\"details\":\"Emitted when `value` tokens are moved from one account (`from`) to another (`to`). Note that `value` may be zero.\"}},\"kind\":\"dev\",\"methods\":{\"allowance(address,address)\":{\"details\":\"Returns the remaining number of tokens that `spender` will be allowed to spend on behalf of `owner` through {transferFrom}. This is zero by default. This value changes when {approve} or {transferFrom} are called.\"},\"approve(address,uint256)\":{\"details\":\"Sets `amount` as the allowance of `spender` over the caller's tokens. Returns a boolean value indicating whether the operation succeeded. IMPORTANT: Beware that changing an allowance with this method brings the risk that someone may use both the old and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this race condition is to first reduce the spender's allowance to 0 and set the desired value afterwards: https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729 Emits an {Approval} event.\"},\"balanceOf(address)\":{\"details\":\"Returns the amount of tokens owned by `account`.\"},\"totalSupply()\":{\"details\":\"Returns the amount of tokens in existence.\"},\"transfer(address,uint256)\":{\"details\":\"Moves `amount` tokens from the caller's account to `to`. Returns a boolean value indicating whether the operation succeeded. Emits a {Transfer} event.\"},\"transferFrom(address,address,uint256)\":{\"details\":\"Moves `amount` tokens from `from` to `to` using the allowance mechanism. `amount` is then deducted from the caller's allowance. Returns a boolean value indicating whether the operation succeeded. Emits a {Transfer} event.\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":\"IERC20\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `from` to `to` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\\n}\\n\",\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\"}},\"version\":1}","storageLayout":{"storage":[],"types":null},"userdoc":{"kind":"user","methods":{},"version":1}}},"src/YieldEscrowUltra.sol":{"YieldEscrowUltra":{"abi":[{"inputs":[],"name":"DepositNotFound","type":"error"},{"inputs":[],"name":"InvalidAmount","type":"error"},{"inputs":[],"name":"PaymentProcessed","type":"error"},{"inputs":[],"name":"TokenNotSupported","type":"error"},{"inputs":[],"name":"Unauthorized","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"paymentHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"DepositCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"paymentHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"PaymentReleased","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"bool","name":"supported","type":"bool"}],"name":"TokenSupported","type":"event"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"merchant","type":"address"},{"internalType":"bytes32","name":"paymentHash","type":"bytes32"}],"name":"createDeposit","outputs":[{"internalType":"uint256","name":"depositIndex","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"depositMeta","outputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"merchant","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"depositIndex","type":"uint256"}],"name":"getDeposit","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"depositTimestamp","type":"uint256"},{"internalType":"bool","name":"released","type":"bool"},{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"merchant","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"packedDeposits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"processedPaymentHashes","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"depositIndex","type":"uint256"}],"name":"releasePayment","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"bool","name":"supported","type":"bool"}],"name":"setSupportedToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"supportedTokens","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userDepositCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"devdoc":{"details":"Ultra-minimal escrow for <100k gas deposits  EXTREME TRADE-OFFS FOR GAS EFFICIENCY: - No access control (public admin functions) - No reentrancy protection - No pause mechanism - Minimal validation - Assembly optimizations - Single storage slot deposits  ⚠️ WARNING: This is for gas benchmarking only! ⚠️ NOT recommended for production use due to security trade-offs!","kind":"dev","methods":{"createDeposit(uint256,address,address,bytes32)":{"details":"Ultra-minimal deposit function targeting <100k gas","params":{"amount":"Deposit amount (must be > 0 and < 2^128)","merchant":"Merchant address","paymentHash":"Unique payment hash","token":"Token address"},"returns":{"depositIndex":"The deposit index  EXTREME OPTIMIZATIONS: - Packed storage (amount + timestamp + status in single slot) - Minimal validation - Assembly for gas efficiency - No security modifiers"}},"getDeposit(address,uint256)":{"details":"Get unpacked deposit data"},"releasePayment(address,uint256)":{"details":"Release payment to merchant (ultra optimized)"},"setSupportedToken(address,bool)":{"details":"Set token support (no access control for gas savings)"}},"stateVariables":{"depositMeta":{"details":"Deposit metadata: user => depositId => (token, merchant)"},"packedDeposits":{"details":"Packed deposit data: user => depositId => packedData PackedData = amount(128) + timestamp(32) + released(8) + padding(88)"},"processedPaymentHashes":{"details":"Processed payment hashes (hash => processed)"},"supportedTokens":{"details":"Supported tokens (token => supported)"},"userDepositCount":{"details":"User deposit counts"}},"title":"YieldEscrowUltra","version":1},"evm":{"bytecode":{"functionDebugData":{},"generatedSources":[],"linkReferences":{},"object":"6080806040523461001657610797908161001c8239f35b600080fdfe604060808152600436101561001357600080fd5b600090813560e01c9182632726b506146100ad575050806368c4ac26146100a8578063729c3e0e146100a357806384e9abca1461009e578063966ecf3b1461009957806399fcfb4314610094578063b63de29f1461008f578063e79864661461008a5763f1adff0a1461008557600080fd5b6106ae565b610637565b6105ef565b6105be565b610468565b610220565b6101e6565b6101a7565b3461015d578160031936011261015d57610159610105836100cc610160565b6001600160a01b031680855260026020908152828620602435808852908252838720549287526003825283872090875290529320610739565b805160209182015194516001600160801b0385168152608085811c63ffffffff169382019390935260a094851c60ff16151560408201526001600160a01b0391821660608201529416908401528291820190565b0390f35b80fd5b600435906001600160a01b038216820361017657565b600080fd5b602435906001600160a01b038216820361017657565b604435906001600160a01b038216820361017657565b34610176576020366003190112610176576001600160a01b036101c8610160565b166000526000602052602060ff604060002054166040519015158152f35b34610176576020366003190112610176576001600160a01b03610207610160565b1660005260046020526020604060002054604051908152f35b3461017657608036600319011261017657600480359061023e61017b565b91610247610191565b906064358115801561045a575b6104495761028561028161027a8760018060a01b03166000526000602052604060002090565b5460ff1690565b1590565b610438576102a061027a826000526001602052604060002090565b610427573360009081526004602052604090205493604093600080606487516323b872dd60e01b81523386820152306024820152876044820152828b5af11561017657610159966103606103af9263ffffffff60801b4260801b166001600160801b038816176103358a6103263360018060a01b03166000526002602052604060002090565b90600052602052604060002090565b55610350610341610703565b6001600160a01b039094168452565b6001600160a01b03166020830152565b33600090815260036020526040902061037a908890610326565b815181546001600160a01b039182166001600160a01b0319918216178355602090930151600190920180549093169116179055565b602084510190848220913390528480510152600181540190556103ec6103df826000526001602052604060002090565b805460ff19166001179055565b825191825233917f2fc7f61216f4b9da63724a7ccba484452205b7cf651334640e3cd1120178600690602090a3519081529081906020820190565b60405163ea0e906b60e01b81528490fd5b604051633dd1b30560e01b81528490fd5b60405163162908e360e11b81528490fd5b50600160801b821015610254565b346101765760408060031936011261017657610482610160565b90602435906104a7826103268560018060a01b03166000526002602052604060002090565b549283156105ad576104d76104d2846103268460018060a01b03166000526003602052604060002090565b610739565b9160208301946104fc6104f0875160018060a01b031690565b6001600160a01b031690565b330361059d5760ff8160a01c16610176576001600160801b038116946044600097888097819582958984526002602052888420908452602052600160a01b17878320555191519186519263a9059cbb60e01b845260048401528960248401525af11561059957519283526001600160a01b0316917f1e170c3b430cc6fdcdaa453c42619ac587e13793aa81a489fab9ebd7019c2efb90602090a380f35b8280fd5b81516282b42960e81b8152600490fd5b815163411321ed60e01b8152600490fd5b34610176576020366003190112610176576004356000526001602052602060ff604060002054166040519015158152f35b34610176576040366003190112610176576001600160a01b03610610610160565b16600052600260205260406000206024356000526020526020604060002054604051908152f35b3461017657604036600319011261017657610650610160565b602435908115158092036101765760207fd86c88b4a367d9b81a6e00c9d3f7d01657bffef358fa8968c91c045ae99f0d529160018060a01b0316928360005260008252604060002060ff1981541660ff8316179055604051908152a2005b346101765760403660031901126101765760406001600160a01b03806106d2610160565b1660005260036020528160002060243560005260205281600020906001818354169201541682519182526020820152f35b604051906040820182811067ffffffffffffffff82111761072357604052565b634e487b7160e01b600052604160045260246000fd5b90610742610703565b82546001600160a01b039081168252600190930154909216602083015256fea26469706673582212204eebf82e18431aee5fd1e64d44b23d1e4efcca5890269b6f9050d47856a08ee064736f6c63430008140033","opcodes":"PUSH1 0x80 DUP1 PUSH1 0x40 MSTORE CALLVALUE PUSH2 0x16 JUMPI PUSH2 0x797 SWAP1 DUP2 PUSH2 0x1C DUP3 CODECOPY RETURN JUMPDEST PUSH1 0x0 DUP1 REVERT INVALID PUSH1 0x40 PUSH1 0x80 DUP2 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x13 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP1 DUP2 CALLDATALOAD PUSH1 0xE0 SHR SWAP2 DUP3 PUSH4 0x2726B506 EQ PUSH2 0xAD JUMPI POP POP DUP1 PUSH4 0x68C4AC26 EQ PUSH2 0xA8 JUMPI DUP1 PUSH4 0x729C3E0E EQ PUSH2 0xA3 JUMPI DUP1 PUSH4 0x84E9ABCA EQ PUSH2 0x9E JUMPI DUP1 PUSH4 0x966ECF3B EQ PUSH2 0x99 JUMPI DUP1 PUSH4 0x99FCFB43 EQ PUSH2 0x94 JUMPI DUP1 PUSH4 0xB63DE29F EQ PUSH2 0x8F JUMPI DUP1 PUSH4 0xE7986466 EQ PUSH2 0x8A JUMPI PUSH4 0xF1ADFF0A EQ PUSH2 0x85 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x6AE JUMP JUMPDEST PUSH2 0x637 JUMP JUMPDEST PUSH2 0x5EF JUMP JUMPDEST PUSH2 0x5BE JUMP JUMPDEST PUSH2 0x468 JUMP JUMPDEST PUSH2 0x220 JUMP JUMPDEST PUSH2 0x1E6 JUMP JUMPDEST PUSH2 0x1A7 JUMP JUMPDEST CALLVALUE PUSH2 0x15D JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x15D JUMPI PUSH2 0x159 PUSH2 0x105 DUP4 PUSH2 0xCC PUSH2 0x160 JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP1 DUP6 MSTORE PUSH1 0x2 PUSH1 0x20 SWAP1 DUP2 MSTORE DUP3 DUP7 KECCAK256 PUSH1 0x24 CALLDATALOAD DUP1 DUP9 MSTORE SWAP1 DUP3 MSTORE DUP4 DUP8 KECCAK256 SLOAD SWAP3 DUP8 MSTORE PUSH1 0x3 DUP3 MSTORE DUP4 DUP8 KECCAK256 SWAP1 DUP8 MSTORE SWAP1 MSTORE SWAP4 KECCAK256 PUSH2 0x739 JUMP JUMPDEST DUP1 MLOAD PUSH1 0x20 SWAP2 DUP3 ADD MLOAD SWAP5 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0x80 SHL SUB DUP6 AND DUP2 MSTORE PUSH1 0x80 DUP6 DUP2 SHR PUSH4 0xFFFFFFFF AND SWAP4 DUP3 ADD SWAP4 SWAP1 SWAP4 MSTORE PUSH1 0xA0 SWAP5 DUP6 SHR PUSH1 0xFF AND ISZERO ISZERO PUSH1 0x40 DUP3 ADD MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP2 DUP3 AND PUSH1 0x60 DUP3 ADD MSTORE SWAP5 AND SWAP1 DUP5 ADD MSTORE DUP3 SWAP2 DUP3 ADD SWAP1 JUMP JUMPDEST SUB SWAP1 RETURN JUMPDEST DUP1 REVERT JUMPDEST PUSH1 0x4 CALLDATALOAD SWAP1 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP3 AND DUP3 SUB PUSH2 0x176 JUMPI JUMP JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x24 CALLDATALOAD SWAP1 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP3 AND DUP3 SUB PUSH2 0x176 JUMPI JUMP JUMPDEST PUSH1 0x44 CALLDATALOAD SWAP1 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP3 AND DUP3 SUB PUSH2 0x176 JUMPI JUMP JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x1C8 PUSH2 0x160 JUMP JUMPDEST AND PUSH1 0x0 MSTORE PUSH1 0x0 PUSH1 0x20 MSTORE PUSH1 0x20 PUSH1 0xFF PUSH1 0x40 PUSH1 0x0 KECCAK256 SLOAD AND PUSH1 0x40 MLOAD SWAP1 ISZERO ISZERO DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x207 PUSH2 0x160 JUMP JUMPDEST AND PUSH1 0x0 MSTORE PUSH1 0x4 PUSH1 0x20 MSTORE PUSH1 0x20 PUSH1 0x40 PUSH1 0x0 KECCAK256 SLOAD PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x80 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x4 DUP1 CALLDATALOAD SWAP1 PUSH2 0x23E PUSH2 0x17B JUMP JUMPDEST SWAP2 PUSH2 0x247 PUSH2 0x191 JUMP JUMPDEST SWAP1 PUSH1 0x64 CALLDATALOAD DUP2 ISZERO DUP1 ISZERO PUSH2 0x45A JUMPI JUMPDEST PUSH2 0x449 JUMPI PUSH2 0x285 PUSH2 0x281 PUSH2 0x27A DUP8 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND PUSH1 0x0 MSTORE PUSH1 0x0 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST SLOAD PUSH1 0xFF AND SWAP1 JUMP JUMPDEST ISZERO SWAP1 JUMP JUMPDEST PUSH2 0x438 JUMPI PUSH2 0x2A0 PUSH2 0x27A DUP3 PUSH1 0x0 MSTORE PUSH1 0x1 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST PUSH2 0x427 JUMPI CALLER PUSH1 0x0 SWAP1 DUP2 MSTORE PUSH1 0x4 PUSH1 0x20 MSTORE PUSH1 0x40 SWAP1 KECCAK256 SLOAD SWAP4 PUSH1 0x40 SWAP4 PUSH1 0x0 DUP1 PUSH1 0x64 DUP8 MLOAD PUSH4 0x23B872DD PUSH1 0xE0 SHL DUP2 MSTORE CALLER DUP7 DUP3 ADD MSTORE ADDRESS PUSH1 0x24 DUP3 ADD MSTORE DUP8 PUSH1 0x44 DUP3 ADD MSTORE DUP3 DUP12 GAS CALL ISZERO PUSH2 0x176 JUMPI PUSH2 0x159 SWAP7 PUSH2 0x360 PUSH2 0x3AF SWAP3 PUSH4 0xFFFFFFFF PUSH1 0x80 SHL TIMESTAMP PUSH1 0x80 SHL AND PUSH1 0x1 PUSH1 0x1 PUSH1 0x80 SHL SUB DUP9 AND OR PUSH2 0x335 DUP11 PUSH2 0x326 CALLER PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND PUSH1 0x0 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST SWAP1 PUSH1 0x0 MSTORE PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST SSTORE PUSH2 0x350 PUSH2 0x341 PUSH2 0x703 JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP5 AND DUP5 MSTORE JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND PUSH1 0x20 DUP4 ADD MSTORE JUMP JUMPDEST CALLER PUSH1 0x0 SWAP1 DUP2 MSTORE PUSH1 0x3 PUSH1 0x20 MSTORE PUSH1 0x40 SWAP1 KECCAK256 PUSH2 0x37A SWAP1 DUP9 SWAP1 PUSH2 0x326 JUMP JUMPDEST DUP2 MLOAD DUP2 SLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP2 DUP3 AND PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB NOT SWAP2 DUP3 AND OR DUP4 SSTORE PUSH1 0x20 SWAP1 SWAP4 ADD MLOAD PUSH1 0x1 SWAP1 SWAP3 ADD DUP1 SLOAD SWAP1 SWAP4 AND SWAP2 AND OR SWAP1 SSTORE JUMP JUMPDEST PUSH1 0x20 DUP5 MLOAD ADD SWAP1 DUP5 DUP3 KECCAK256 SWAP2 CALLER SWAP1 MSTORE DUP5 DUP1 MLOAD ADD MSTORE PUSH1 0x1 DUP2 SLOAD ADD SWAP1 SSTORE PUSH2 0x3EC PUSH2 0x3DF DUP3 PUSH1 0x0 MSTORE PUSH1 0x1 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST DUP1 SLOAD PUSH1 0xFF NOT AND PUSH1 0x1 OR SWAP1 SSTORE JUMP JUMPDEST DUP3 MLOAD SWAP2 DUP3 MSTORE CALLER SWAP2 PUSH32 0x2FC7F61216F4B9DA63724A7CCBA484452205B7CF651334640E3CD11201786006 SWAP1 PUSH1 0x20 SWAP1 LOG3 MLOAD SWAP1 DUP2 MSTORE SWAP1 DUP2 SWAP1 PUSH1 0x20 DUP3 ADD SWAP1 JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH4 0xEA0E906B PUSH1 0xE0 SHL DUP2 MSTORE DUP5 SWAP1 REVERT JUMPDEST PUSH1 0x40 MLOAD PUSH4 0x3DD1B305 PUSH1 0xE0 SHL DUP2 MSTORE DUP5 SWAP1 REVERT JUMPDEST PUSH1 0x40 MLOAD PUSH4 0x162908E3 PUSH1 0xE1 SHL DUP2 MSTORE DUP5 SWAP1 REVERT JUMPDEST POP PUSH1 0x1 PUSH1 0x80 SHL DUP3 LT ISZERO PUSH2 0x254 JUMP JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x40 DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x176 JUMPI PUSH2 0x482 PUSH2 0x160 JUMP JUMPDEST SWAP1 PUSH1 0x24 CALLDATALOAD SWAP1 PUSH2 0x4A7 DUP3 PUSH2 0x326 DUP6 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND PUSH1 0x0 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST SLOAD SWAP3 DUP4 ISZERO PUSH2 0x5AD JUMPI PUSH2 0x4D7 PUSH2 0x4D2 DUP5 PUSH2 0x326 DUP5 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND PUSH1 0x0 MSTORE PUSH1 0x3 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST PUSH2 0x739 JUMP JUMPDEST SWAP2 PUSH1 0x20 DUP4 ADD SWAP5 PUSH2 0x4FC PUSH2 0x4F0 DUP8 MLOAD PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND SWAP1 JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND SWAP1 JUMP JUMPDEST CALLER SUB PUSH2 0x59D JUMPI PUSH1 0xFF DUP2 PUSH1 0xA0 SHR AND PUSH2 0x176 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0x80 SHL SUB DUP2 AND SWAP5 PUSH1 0x44 PUSH1 0x0 SWAP8 DUP9 DUP1 SWAP8 DUP2 SWAP6 DUP3 SWAP6 DUP10 DUP5 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE DUP9 DUP5 KECCAK256 SWAP1 DUP5 MSTORE PUSH1 0x20 MSTORE PUSH1 0x1 PUSH1 0xA0 SHL OR DUP8 DUP4 KECCAK256 SSTORE MLOAD SWAP2 MLOAD SWAP2 DUP7 MLOAD SWAP3 PUSH4 0xA9059CBB PUSH1 0xE0 SHL DUP5 MSTORE PUSH1 0x4 DUP5 ADD MSTORE DUP10 PUSH1 0x24 DUP5 ADD MSTORE GAS CALL ISZERO PUSH2 0x599 JUMPI MLOAD SWAP3 DUP4 MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND SWAP2 PUSH32 0x1E170C3B430CC6FDCDAA453C42619AC587E13793AA81A489FAB9EBD7019C2EFB SWAP1 PUSH1 0x20 SWAP1 LOG3 DUP1 RETURN JUMPDEST DUP3 DUP1 REVERT JUMPDEST DUP2 MLOAD PUSH3 0x82B429 PUSH1 0xE8 SHL DUP2 MSTORE PUSH1 0x4 SWAP1 REVERT JUMPDEST DUP2 MLOAD PUSH4 0x411321ED PUSH1 0xE0 SHL DUP2 MSTORE PUSH1 0x4 SWAP1 REVERT JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x0 MSTORE PUSH1 0x1 PUSH1 0x20 MSTORE PUSH1 0x20 PUSH1 0xFF PUSH1 0x40 PUSH1 0x0 KECCAK256 SLOAD AND PUSH1 0x40 MLOAD SWAP1 ISZERO ISZERO DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x40 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x610 PUSH2 0x160 JUMP JUMPDEST AND PUSH1 0x0 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 PUSH1 0x24 CALLDATALOAD PUSH1 0x0 MSTORE PUSH1 0x20 MSTORE PUSH1 0x20 PUSH1 0x40 PUSH1 0x0 KECCAK256 SLOAD PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x40 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH2 0x650 PUSH2 0x160 JUMP JUMPDEST PUSH1 0x24 CALLDATALOAD SWAP1 DUP2 ISZERO ISZERO DUP1 SWAP3 SUB PUSH2 0x176 JUMPI PUSH1 0x20 PUSH32 0xD86C88B4A367D9B81A6E00C9D3F7D01657BFFEF358FA8968C91C045AE99F0D52 SWAP2 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND SWAP3 DUP4 PUSH1 0x0 MSTORE PUSH1 0x0 DUP3 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 PUSH1 0xFF NOT DUP2 SLOAD AND PUSH1 0xFF DUP4 AND OR SWAP1 SSTORE PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE LOG2 STOP JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x40 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x40 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP1 PUSH2 0x6D2 PUSH2 0x160 JUMP JUMPDEST AND PUSH1 0x0 MSTORE PUSH1 0x3 PUSH1 0x20 MSTORE DUP2 PUSH1 0x0 KECCAK256 PUSH1 0x24 CALLDATALOAD PUSH1 0x0 MSTORE PUSH1 0x20 MSTORE DUP2 PUSH1 0x0 KECCAK256 SWAP1 PUSH1 0x1 DUP2 DUP4 SLOAD AND SWAP3 ADD SLOAD AND DUP3 MLOAD SWAP2 DUP3 MSTORE PUSH1 0x20 DUP3 ADD MSTORE RETURN JUMPDEST PUSH1 0x40 MLOAD SWAP1 PUSH1 0x40 DUP3 ADD DUP3 DUP2 LT PUSH8 0xFFFFFFFFFFFFFFFF DUP3 GT OR PUSH2 0x723 JUMPI PUSH1 0x40 MSTORE JUMP JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x41 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST SWAP1 PUSH2 0x742 PUSH2 0x703 JUMP JUMPDEST DUP3 SLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 DUP2 AND DUP3 MSTORE PUSH1 0x1 SWAP1 SWAP4 ADD SLOAD SWAP1 SWAP3 AND PUSH1 0x20 DUP4 ADD MSTORE JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0x4E 0xEB 0xF8 0x2E XOR NUMBER BYTE 0xEE PUSH0 0xD1 0xE6 0x4D PREVRANDAO 0xB2 RETURNDATASIZE 0x1E 0x4E 0xFC 0xCA PC SWAP1 0x26 SWAP12 PUSH16 0x9050D47856A08EE064736F6C63430008 EQ STOP CALLER ","sourceMap":"568:11837:1:-:0;;;;;;;;;;;;;;;;;"},"deployedBytecode":{"functionDebugData":{"abi_decode_address":{"entryPoint":379,"id":null,"parameterSlots":0,"returnSlots":1},"abi_decode_address_2707":{"entryPoint":352,"id":null,"parameterSlots":0,"returnSlots":1},"abi_decode_address_2715":{"entryPoint":401,"id":null,"parameterSlots":0,"returnSlots":1},"abi_encode_uint256":{"entryPoint":null,"id":null,"parameterSlots":2,"returnSlots":1},"abi_encode_uint256_uint256_bool_address_address":{"entryPoint":null,"id":null,"parameterSlots":6,"returnSlots":1},"allocate_memory":{"entryPoint":1795,"id":null,"parameterSlots":0,"returnSlots":1},"cleanup_address":{"entryPoint":null,"id":null,"parameterSlots":1,"returnSlots":1},"cleanup_bool":{"entryPoint":null,"id":null,"parameterSlots":1,"returnSlots":1},"copy_struct_to_storage_from_struct_DepositMeta_to_struct_DepositMeta":{"entryPoint":null,"id":null,"parameterSlots":2,"returnSlots":0},"external_fun_createDeposit":{"entryPoint":544,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_depositMeta":{"entryPoint":1710,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_packedDeposits":{"entryPoint":1519,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_processedPaymentHashes":{"entryPoint":1470,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_releasePayment":{"entryPoint":1128,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_setSupportedToken":{"entryPoint":1591,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_supportedTokens":{"entryPoint":423,"id":null,"parameterSlots":0,"returnSlots":0},"external_fun_userDepositCount":{"entryPoint":486,"id":null,"parameterSlots":0,"returnSlots":0},"mapping_index_access_mapping_address_bool_of_address":{"entryPoint":null,"id":null,"parameterSlots":1,"returnSlots":1},"mapping_index_access_mapping_address_bool_of_address_2719":{"entryPoint":null,"id":null,"parameterSlots":1,"returnSlots":1},"mapping_index_access_mapping_address_bool_of_address_2720":{"entryPoint":null,"id":null,"parameterSlots":1,"returnSlots":1},"mapping_index_access_mapping_address_bool_of_address_2722":{"entryPoint":null,"id":null,"parameterSlots":1,"returnSlots":1},"mapping_index_access_mapping_bytes32_bool_of_bytes32":{"entryPoint":null,"id":null,"parameterSlots":2,"returnSlots":1},"mapping_index_access_mapping_bytes32_bool_of_bytes32_2718":{"entryPoint":null,"id":null,"parameterSlots":1,"returnSlots":1},"read_from_storage_reference_type_struct_DepositMeta":{"entryPoint":1849,"id":null,"parameterSlots":1,"returnSlots":1},"read_from_storage_split_offset_bool":{"entryPoint":null,"id":null,"parameterSlots":1,"returnSlots":1},"update_storage_value_offsett_address_to_address":{"entryPoint":null,"id":null,"parameterSlots":2,"returnSlots":0},"update_storage_value_offsett_bool_to_bool":{"entryPoint":null,"id":null,"parameterSlots":1,"returnSlots":0},"write_to_memory_address":{"entryPoint":null,"id":null,"parameterSlots":2,"returnSlots":0}},"generatedSources":[],"immutableReferences":{},"linkReferences":{},"object":"604060808152600436101561001357600080fd5b600090813560e01c9182632726b506146100ad575050806368c4ac26146100a8578063729c3e0e146100a357806384e9abca1461009e578063966ecf3b1461009957806399fcfb4314610094578063b63de29f1461008f578063e79864661461008a5763f1adff0a1461008557600080fd5b6106ae565b610637565b6105ef565b6105be565b610468565b610220565b6101e6565b6101a7565b3461015d578160031936011261015d57610159610105836100cc610160565b6001600160a01b031680855260026020908152828620602435808852908252838720549287526003825283872090875290529320610739565b805160209182015194516001600160801b0385168152608085811c63ffffffff169382019390935260a094851c60ff16151560408201526001600160a01b0391821660608201529416908401528291820190565b0390f35b80fd5b600435906001600160a01b038216820361017657565b600080fd5b602435906001600160a01b038216820361017657565b604435906001600160a01b038216820361017657565b34610176576020366003190112610176576001600160a01b036101c8610160565b166000526000602052602060ff604060002054166040519015158152f35b34610176576020366003190112610176576001600160a01b03610207610160565b1660005260046020526020604060002054604051908152f35b3461017657608036600319011261017657600480359061023e61017b565b91610247610191565b906064358115801561045a575b6104495761028561028161027a8760018060a01b03166000526000602052604060002090565b5460ff1690565b1590565b610438576102a061027a826000526001602052604060002090565b610427573360009081526004602052604090205493604093600080606487516323b872dd60e01b81523386820152306024820152876044820152828b5af11561017657610159966103606103af9263ffffffff60801b4260801b166001600160801b038816176103358a6103263360018060a01b03166000526002602052604060002090565b90600052602052604060002090565b55610350610341610703565b6001600160a01b039094168452565b6001600160a01b03166020830152565b33600090815260036020526040902061037a908890610326565b815181546001600160a01b039182166001600160a01b0319918216178355602090930151600190920180549093169116179055565b602084510190848220913390528480510152600181540190556103ec6103df826000526001602052604060002090565b805460ff19166001179055565b825191825233917f2fc7f61216f4b9da63724a7ccba484452205b7cf651334640e3cd1120178600690602090a3519081529081906020820190565b60405163ea0e906b60e01b81528490fd5b604051633dd1b30560e01b81528490fd5b60405163162908e360e11b81528490fd5b50600160801b821015610254565b346101765760408060031936011261017657610482610160565b90602435906104a7826103268560018060a01b03166000526002602052604060002090565b549283156105ad576104d76104d2846103268460018060a01b03166000526003602052604060002090565b610739565b9160208301946104fc6104f0875160018060a01b031690565b6001600160a01b031690565b330361059d5760ff8160a01c16610176576001600160801b038116946044600097888097819582958984526002602052888420908452602052600160a01b17878320555191519186519263a9059cbb60e01b845260048401528960248401525af11561059957519283526001600160a01b0316917f1e170c3b430cc6fdcdaa453c42619ac587e13793aa81a489fab9ebd7019c2efb90602090a380f35b8280fd5b81516282b42960e81b8152600490fd5b815163411321ed60e01b8152600490fd5b34610176576020366003190112610176576004356000526001602052602060ff604060002054166040519015158152f35b34610176576040366003190112610176576001600160a01b03610610610160565b16600052600260205260406000206024356000526020526020604060002054604051908152f35b3461017657604036600319011261017657610650610160565b602435908115158092036101765760207fd86c88b4a367d9b81a6e00c9d3f7d01657bffef358fa8968c91c045ae99f0d529160018060a01b0316928360005260008252604060002060ff1981541660ff8316179055604051908152a2005b346101765760403660031901126101765760406001600160a01b03806106d2610160565b1660005260036020528160002060243560005260205281600020906001818354169201541682519182526020820152f35b604051906040820182811067ffffffffffffffff82111761072357604052565b634e487b7160e01b600052604160045260246000fd5b90610742610703565b82546001600160a01b039081168252600190930154909216602083015256fea26469706673582212204eebf82e18431aee5fd1e64d44b23d1e4efcca5890269b6f9050d47856a08ee064736f6c63430008140033","opcodes":"PUSH1 0x40 PUSH1 0x80 DUP2 MSTORE PUSH1 0x4 CALLDATASIZE LT ISZERO PUSH2 0x13 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 SWAP1 DUP2 CALLDATALOAD PUSH1 0xE0 SHR SWAP2 DUP3 PUSH4 0x2726B506 EQ PUSH2 0xAD JUMPI POP POP DUP1 PUSH4 0x68C4AC26 EQ PUSH2 0xA8 JUMPI DUP1 PUSH4 0x729C3E0E EQ PUSH2 0xA3 JUMPI DUP1 PUSH4 0x84E9ABCA EQ PUSH2 0x9E JUMPI DUP1 PUSH4 0x966ECF3B EQ PUSH2 0x99 JUMPI DUP1 PUSH4 0x99FCFB43 EQ PUSH2 0x94 JUMPI DUP1 PUSH4 0xB63DE29F EQ PUSH2 0x8F JUMPI DUP1 PUSH4 0xE7986466 EQ PUSH2 0x8A JUMPI PUSH4 0xF1ADFF0A EQ PUSH2 0x85 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x6AE JUMP JUMPDEST PUSH2 0x637 JUMP JUMPDEST PUSH2 0x5EF JUMP JUMPDEST PUSH2 0x5BE JUMP JUMPDEST PUSH2 0x468 JUMP JUMPDEST PUSH2 0x220 JUMP JUMPDEST PUSH2 0x1E6 JUMP JUMPDEST PUSH2 0x1A7 JUMP JUMPDEST CALLVALUE PUSH2 0x15D JUMPI DUP2 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x15D JUMPI PUSH2 0x159 PUSH2 0x105 DUP4 PUSH2 0xCC PUSH2 0x160 JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND DUP1 DUP6 MSTORE PUSH1 0x2 PUSH1 0x20 SWAP1 DUP2 MSTORE DUP3 DUP7 KECCAK256 PUSH1 0x24 CALLDATALOAD DUP1 DUP9 MSTORE SWAP1 DUP3 MSTORE DUP4 DUP8 KECCAK256 SLOAD SWAP3 DUP8 MSTORE PUSH1 0x3 DUP3 MSTORE DUP4 DUP8 KECCAK256 SWAP1 DUP8 MSTORE SWAP1 MSTORE SWAP4 KECCAK256 PUSH2 0x739 JUMP JUMPDEST DUP1 MLOAD PUSH1 0x20 SWAP2 DUP3 ADD MLOAD SWAP5 MLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0x80 SHL SUB DUP6 AND DUP2 MSTORE PUSH1 0x80 DUP6 DUP2 SHR PUSH4 0xFFFFFFFF AND SWAP4 DUP3 ADD SWAP4 SWAP1 SWAP4 MSTORE PUSH1 0xA0 SWAP5 DUP6 SHR PUSH1 0xFF AND ISZERO ISZERO PUSH1 0x40 DUP3 ADD MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP2 DUP3 AND PUSH1 0x60 DUP3 ADD MSTORE SWAP5 AND SWAP1 DUP5 ADD MSTORE DUP3 SWAP2 DUP3 ADD SWAP1 JUMP JUMPDEST SUB SWAP1 RETURN JUMPDEST DUP1 REVERT JUMPDEST PUSH1 0x4 CALLDATALOAD SWAP1 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP3 AND DUP3 SUB PUSH2 0x176 JUMPI JUMP JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x24 CALLDATALOAD SWAP1 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP3 AND DUP3 SUB PUSH2 0x176 JUMPI JUMP JUMPDEST PUSH1 0x44 CALLDATALOAD SWAP1 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP3 AND DUP3 SUB PUSH2 0x176 JUMPI JUMP JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x1C8 PUSH2 0x160 JUMP JUMPDEST AND PUSH1 0x0 MSTORE PUSH1 0x0 PUSH1 0x20 MSTORE PUSH1 0x20 PUSH1 0xFF PUSH1 0x40 PUSH1 0x0 KECCAK256 SLOAD AND PUSH1 0x40 MLOAD SWAP1 ISZERO ISZERO DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x207 PUSH2 0x160 JUMP JUMPDEST AND PUSH1 0x0 MSTORE PUSH1 0x4 PUSH1 0x20 MSTORE PUSH1 0x20 PUSH1 0x40 PUSH1 0x0 KECCAK256 SLOAD PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x80 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x4 DUP1 CALLDATALOAD SWAP1 PUSH2 0x23E PUSH2 0x17B JUMP JUMPDEST SWAP2 PUSH2 0x247 PUSH2 0x191 JUMP JUMPDEST SWAP1 PUSH1 0x64 CALLDATALOAD DUP2 ISZERO DUP1 ISZERO PUSH2 0x45A JUMPI JUMPDEST PUSH2 0x449 JUMPI PUSH2 0x285 PUSH2 0x281 PUSH2 0x27A DUP8 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND PUSH1 0x0 MSTORE PUSH1 0x0 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST SLOAD PUSH1 0xFF AND SWAP1 JUMP JUMPDEST ISZERO SWAP1 JUMP JUMPDEST PUSH2 0x438 JUMPI PUSH2 0x2A0 PUSH2 0x27A DUP3 PUSH1 0x0 MSTORE PUSH1 0x1 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST PUSH2 0x427 JUMPI CALLER PUSH1 0x0 SWAP1 DUP2 MSTORE PUSH1 0x4 PUSH1 0x20 MSTORE PUSH1 0x40 SWAP1 KECCAK256 SLOAD SWAP4 PUSH1 0x40 SWAP4 PUSH1 0x0 DUP1 PUSH1 0x64 DUP8 MLOAD PUSH4 0x23B872DD PUSH1 0xE0 SHL DUP2 MSTORE CALLER DUP7 DUP3 ADD MSTORE ADDRESS PUSH1 0x24 DUP3 ADD MSTORE DUP8 PUSH1 0x44 DUP3 ADD MSTORE DUP3 DUP12 GAS CALL ISZERO PUSH2 0x176 JUMPI PUSH2 0x159 SWAP7 PUSH2 0x360 PUSH2 0x3AF SWAP3 PUSH4 0xFFFFFFFF PUSH1 0x80 SHL TIMESTAMP PUSH1 0x80 SHL AND PUSH1 0x1 PUSH1 0x1 PUSH1 0x80 SHL SUB DUP9 AND OR PUSH2 0x335 DUP11 PUSH2 0x326 CALLER PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND PUSH1 0x0 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST SWAP1 PUSH1 0x0 MSTORE PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST SSTORE PUSH2 0x350 PUSH2 0x341 PUSH2 0x703 JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 SWAP5 AND DUP5 MSTORE JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND PUSH1 0x20 DUP4 ADD MSTORE JUMP JUMPDEST CALLER PUSH1 0x0 SWAP1 DUP2 MSTORE PUSH1 0x3 PUSH1 0x20 MSTORE PUSH1 0x40 SWAP1 KECCAK256 PUSH2 0x37A SWAP1 DUP9 SWAP1 PUSH2 0x326 JUMP JUMPDEST DUP2 MLOAD DUP2 SLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP2 DUP3 AND PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB NOT SWAP2 DUP3 AND OR DUP4 SSTORE PUSH1 0x20 SWAP1 SWAP4 ADD MLOAD PUSH1 0x1 SWAP1 SWAP3 ADD DUP1 SLOAD SWAP1 SWAP4 AND SWAP2 AND OR SWAP1 SSTORE JUMP JUMPDEST PUSH1 0x20 DUP5 MLOAD ADD SWAP1 DUP5 DUP3 KECCAK256 SWAP2 CALLER SWAP1 MSTORE DUP5 DUP1 MLOAD ADD MSTORE PUSH1 0x1 DUP2 SLOAD ADD SWAP1 SSTORE PUSH2 0x3EC PUSH2 0x3DF DUP3 PUSH1 0x0 MSTORE PUSH1 0x1 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST DUP1 SLOAD PUSH1 0xFF NOT AND PUSH1 0x1 OR SWAP1 SSTORE JUMP JUMPDEST DUP3 MLOAD SWAP2 DUP3 MSTORE CALLER SWAP2 PUSH32 0x2FC7F61216F4B9DA63724A7CCBA484452205B7CF651334640E3CD11201786006 SWAP1 PUSH1 0x20 SWAP1 LOG3 MLOAD SWAP1 DUP2 MSTORE SWAP1 DUP2 SWAP1 PUSH1 0x20 DUP3 ADD SWAP1 JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH4 0xEA0E906B PUSH1 0xE0 SHL DUP2 MSTORE DUP5 SWAP1 REVERT JUMPDEST PUSH1 0x40 MLOAD PUSH4 0x3DD1B305 PUSH1 0xE0 SHL DUP2 MSTORE DUP5 SWAP1 REVERT JUMPDEST PUSH1 0x40 MLOAD PUSH4 0x162908E3 PUSH1 0xE1 SHL DUP2 MSTORE DUP5 SWAP1 REVERT JUMPDEST POP PUSH1 0x1 PUSH1 0x80 SHL DUP3 LT ISZERO PUSH2 0x254 JUMP JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x40 DUP1 PUSH1 0x3 NOT CALLDATASIZE ADD SLT PUSH2 0x176 JUMPI PUSH2 0x482 PUSH2 0x160 JUMP JUMPDEST SWAP1 PUSH1 0x24 CALLDATALOAD SWAP1 PUSH2 0x4A7 DUP3 PUSH2 0x326 DUP6 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND PUSH1 0x0 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST SLOAD SWAP3 DUP4 ISZERO PUSH2 0x5AD JUMPI PUSH2 0x4D7 PUSH2 0x4D2 DUP5 PUSH2 0x326 DUP5 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND PUSH1 0x0 MSTORE PUSH1 0x3 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 SWAP1 JUMP JUMPDEST PUSH2 0x739 JUMP JUMPDEST SWAP2 PUSH1 0x20 DUP4 ADD SWAP5 PUSH2 0x4FC PUSH2 0x4F0 DUP8 MLOAD PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND SWAP1 JUMP JUMPDEST PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND SWAP1 JUMP JUMPDEST CALLER SUB PUSH2 0x59D JUMPI PUSH1 0xFF DUP2 PUSH1 0xA0 SHR AND PUSH2 0x176 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0x80 SHL SUB DUP2 AND SWAP5 PUSH1 0x44 PUSH1 0x0 SWAP8 DUP9 DUP1 SWAP8 DUP2 SWAP6 DUP3 SWAP6 DUP10 DUP5 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE DUP9 DUP5 KECCAK256 SWAP1 DUP5 MSTORE PUSH1 0x20 MSTORE PUSH1 0x1 PUSH1 0xA0 SHL OR DUP8 DUP4 KECCAK256 SSTORE MLOAD SWAP2 MLOAD SWAP2 DUP7 MLOAD SWAP3 PUSH4 0xA9059CBB PUSH1 0xE0 SHL DUP5 MSTORE PUSH1 0x4 DUP5 ADD MSTORE DUP10 PUSH1 0x24 DUP5 ADD MSTORE GAS CALL ISZERO PUSH2 0x599 JUMPI MLOAD SWAP3 DUP4 MSTORE PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB AND SWAP2 PUSH32 0x1E170C3B430CC6FDCDAA453C42619AC587E13793AA81A489FAB9EBD7019C2EFB SWAP1 PUSH1 0x20 SWAP1 LOG3 DUP1 RETURN JUMPDEST DUP3 DUP1 REVERT JUMPDEST DUP2 MLOAD PUSH3 0x82B429 PUSH1 0xE8 SHL DUP2 MSTORE PUSH1 0x4 SWAP1 REVERT JUMPDEST DUP2 MLOAD PUSH4 0x411321ED PUSH1 0xE0 SHL DUP2 MSTORE PUSH1 0x4 SWAP1 REVERT JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x20 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x4 CALLDATALOAD PUSH1 0x0 MSTORE PUSH1 0x1 PUSH1 0x20 MSTORE PUSH1 0x20 PUSH1 0xFF PUSH1 0x40 PUSH1 0x0 KECCAK256 SLOAD AND PUSH1 0x40 MLOAD SWAP1 ISZERO ISZERO DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x40 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB PUSH2 0x610 PUSH2 0x160 JUMP JUMPDEST AND PUSH1 0x0 MSTORE PUSH1 0x2 PUSH1 0x20 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 PUSH1 0x24 CALLDATALOAD PUSH1 0x0 MSTORE PUSH1 0x20 MSTORE PUSH1 0x20 PUSH1 0x40 PUSH1 0x0 KECCAK256 SLOAD PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE RETURN JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x40 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH2 0x650 PUSH2 0x160 JUMP JUMPDEST PUSH1 0x24 CALLDATALOAD SWAP1 DUP2 ISZERO ISZERO DUP1 SWAP3 SUB PUSH2 0x176 JUMPI PUSH1 0x20 PUSH32 0xD86C88B4A367D9B81A6E00C9D3F7D01657BFFEF358FA8968C91C045AE99F0D52 SWAP2 PUSH1 0x1 DUP1 PUSH1 0xA0 SHL SUB AND SWAP3 DUP4 PUSH1 0x0 MSTORE PUSH1 0x0 DUP3 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 PUSH1 0xFF NOT DUP2 SLOAD AND PUSH1 0xFF DUP4 AND OR SWAP1 SSTORE PUSH1 0x40 MLOAD SWAP1 DUP2 MSTORE LOG2 STOP JUMPDEST CALLVALUE PUSH2 0x176 JUMPI PUSH1 0x40 CALLDATASIZE PUSH1 0x3 NOT ADD SLT PUSH2 0x176 JUMPI PUSH1 0x40 PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB DUP1 PUSH2 0x6D2 PUSH2 0x160 JUMP JUMPDEST AND PUSH1 0x0 MSTORE PUSH1 0x3 PUSH1 0x20 MSTORE DUP2 PUSH1 0x0 KECCAK256 PUSH1 0x24 CALLDATALOAD PUSH1 0x0 MSTORE PUSH1 0x20 MSTORE DUP2 PUSH1 0x0 KECCAK256 SWAP1 PUSH1 0x1 DUP2 DUP4 SLOAD AND SWAP3 ADD SLOAD AND DUP3 MLOAD SWAP2 DUP3 MSTORE PUSH1 0x20 DUP3 ADD MSTORE RETURN JUMPDEST PUSH1 0x40 MLOAD SWAP1 PUSH1 0x40 DUP3 ADD DUP3 DUP2 LT PUSH8 0xFFFFFFFFFFFFFFFF DUP3 GT OR PUSH2 0x723 JUMPI PUSH1 0x40 MSTORE JUMP JUMPDEST PUSH4 0x4E487B71 PUSH1 0xE0 SHL PUSH1 0x0 MSTORE PUSH1 0x41 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST SWAP1 PUSH2 0x742 PUSH2 0x703 JUMP JUMPDEST DUP3 SLOAD PUSH1 0x1 PUSH1 0x1 PUSH1 0xA0 SHL SUB SWAP1 DUP2 AND DUP3 MSTORE PUSH1 0x1 SWAP1 SWAP4 ADD SLOAD SWAP1 SWAP3 AND PUSH1 0x20 DUP4 ADD MSTORE JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0x4E 0xEB 0xF8 0x2E XOR NUMBER BYTE 0xEE PUSH0 0xD1 0xE6 0x4D PREVRANDAO 0xB2 RETURNDATASIZE 0x1E 0x4E 0xFC 0xCA PC SWAP1 0x26 SWAP12 PUSH16 0x9050D47856A08EE064736F6C63430008 EQ STOP CALLER ","sourceMap":"568:11837:1:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;:::i;:::-;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;568:11837:1;;;;11937:14;568:11837;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;12383:13;;;568:11837;;;-1:-1:-1;;;;;12057:269:1;;568:11837;;;12057:269;;;;;568:11837;;;;;;;;12057:269;;;;;568:11837;;;;;;-1:-1:-1;;;;;568:11837:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;568:11837:1;;;;;;:::o;:::-;;;;;;;;-1:-1:-1;;;;;568:11837:1;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;568:11837:1;;;;;;:::o;:::-;;;;;;-1:-1:-1;;568:11837:1;;;;-1:-1:-1;;;;;568:11837:1;;:::i;:::-;;-1:-1:-1;568:11837:1;-1:-1:-1;568:11837:1;;;;;-1:-1:-1;568:11837:1;;;;;;;;;;;;;;;;;-1:-1:-1;;568:11837:1;;;;-1:-1:-1;;;;;568:11837:1;;:::i;:::-;;-1:-1:-1;568:11837:1;;;;;;-1:-1:-1;568:11837:1;;;;;;;;;;;;;;-1:-1:-1;;568:11837:1;;;;;;;;;;:::i;:::-;;;;:::i;:::-;;;;5309:11;;:31;;;;568:11837;5305:59;;5378:23;5379:22;;;568:11837;;;;;;-1:-1:-1;568:11837:1;-1:-1:-1;568:11837:1;;;-1:-1:-1;568:11837:1;;;5379:22;568:11837;;;;;5379:22;5378:23;;568:11837;5378:23;5374:55;;5443:35;;;568:11837;;5443:22;568:11837;;;;;;;5443:35;5439:66;;5585:10;568:11837;;;;;;;;;;;;;5683:690;-1:-1:-1;5683:690:1;568:11837;5683:690;;;;;;;5585:10;5683:690;;;;;568:11837;5683:690;;;;568:11837;5683:690;;;;;;;;;;568:11837;6505:310;6978:28;568:11837;6505:310;12057:269;6505:310;;;568:11837;6505:310;;-1:-1:-1;;;;;6505:310:1;;;6875:40;5585:10;6875:26;5585:10;568:11837;;;;;;;;6875:14;568:11837;;;;;;;6875:26;568:11837;;;;;;;;;;6875:40;568:11837;6978:28;568:11837;;:::i;:::-;-1:-1:-1;;;;;568:11837:1;;;;;;6978:28;-1:-1:-1;;;;;568:11837:1;;6978:28;;568:11837;;6978:28;5585:10;568:11837;;;;6938:11;568:11837;;;;;6938:37;;5585:10;;6938:23;568:11837;6938:37;568:11837;;;;-1:-1:-1;;;;;568:11837:1;;;-1:-1:-1;;;;;;568:11837:1;;;;;;;;;;;-1:-1:-1;568:11837:1;;;;;;;;;;;;;;;;7082:425;;;;;;;5585:10;;7082:425;;;;;;;5443:22;7082:425;;;;;7562:42;:35;;568:11837;;5443:22;568:11837;;;;;;;7562:35;568:11837;;-1:-1:-1;;568:11837:1;5443:22;568:11837;;;;7562:42;568:11837;;;;;5585:10;;7653:47;;568:11837;;7653:47;568:11837;;;;;;;;;;;;5439:66;568:11837;;-1:-1:-1;;;5487:18:1;;568:11837;;5487:18;5374:55;568:11837;;-1:-1:-1;;;5410:19:1;;568:11837;;5410:19;5305:59;568:11837;;-1:-1:-1;;;5349:15:1;;568:11837;;5349:15;5309:31;-1:-1:-1;;;;5324:16:1;;;5309:31;;568:11837;;;;;;;;;;;;;;;:::i;:::-;;;;7891:20;:34;:20;;;568:11837;;;;;;;;6875:14;568:11837;;;;;;;7891:34;568:11837;7939:15;;;7935:45;;568:11837;8025:31;:17;;;568:11837;;;;;;;;6938:11;568:11837;;;;;;;8025:31;568:11837;:::i;:::-;8084:13;568:11837;8084:13;;568:11837;8070:27;568:11837;;;;;;;;;;;;-1:-1:-1;;;;;568:11837:1;;;8070:27;:10;:27;8066:54;;8201:127;;;;;;;-1:-1:-1;;;;;8413:112:1;;-1:-1:-1;9249:623:1;-1:-1:-1;8571:614:1;;;;;;;;;;;7891:14;568:11837;8571:614;;;;;;;568:11837;8571:614;568:11837;8571:614;;;;;;;9249:623;;;;;;;;;;;;568:11837;9249:623;;;;568:11837;9249:623;;;;;;;;568:11837;;;;-1:-1:-1;;;;;568:11837:1;;9895:41;;568:11837;;9895:41;568:11837;;9249:623;;;;8066:54;568:11837;;-1:-1:-1;;;8106:14:1;;568:11837;;8106:14;7935:45;568:11837;;-1:-1:-1;;;7963:17:1;;568:11837;;7963:17;568:11837;;;;;;-1:-1:-1;;568:11837:1;;;;;;-1:-1:-1;568:11837:1;1468:54;568:11837;;;;;-1:-1:-1;568:11837:1;;;;;;;;;;;;;;;;;-1:-1:-1;;568:11837:1;;;;-1:-1:-1;;;;;568:11837:1;;:::i;:::-;;-1:-1:-1;568:11837:1;1676:69;568:11837;;;-1:-1:-1;568:11837:1;;;-1:-1:-1;568:11837:1;;;;;-1:-1:-1;568:11837:1;;;;;;;;;;;;;;-1:-1:-1;;568:11837:1;;;;;;:::i;:::-;;;;;;;;;;;;;10903:32;568:11837;;;;;;;;;-1:-1:-1;568:11837:1;-1:-1:-1;568:11837:1;;;-1:-1:-1;568:11837:1;;;;;;;;;;;;;;;;;10903:32;568:11837;;;;;;;-1:-1:-1;;568:11837:1;;;;;-1:-1:-1;;;;;568:11837:1;;;:::i;:::-;;-1:-1:-1;568:11837:1;;;;;-1:-1:-1;568:11837:1;;;-1:-1:-1;568:11837:1;;;;-1:-1:-1;568:11837:1;;;;;;;1826:70;;568:11837;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;;;;568:11837:1;;;;;;;;;;;;;;;;;:::o"},"gasEstimates":{"creation":{"codeDepositCost":"388600","executionCost":"431","totalCost":"389031"},"external":{"createDeposit(uint256,address,address,bytes32)":"infinite","depositMeta(address,uint256)":"4810","getDeposit(address,uint256)":"7214","packedDeposits(address,uint256)":"2627","processedPaymentHashes(bytes32)":"2466","releasePayment(address,uint256)":"infinite","setSupportedToken(address,bool)":"26143","supportedTokens(address)":"2463","userDepositCount(address)":"2473"}},"methodIdentifiers":{"createDeposit(uint256,address,address,bytes32)":"84e9abca","depositMeta(address,uint256)":"f1adff0a","getDeposit(address,uint256)":"2726b506","packedDeposits(address,uint256)":"b63de29f","processedPaymentHashes(bytes32)":"99fcfb43","releasePayment(address,uint256)":"966ecf3b","setSupportedToken(address,bool)":"e7986466","supportedTokens(address)":"68c4ac26","userDepositCount(address)":"729c3e0e"}},"metadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"DepositNotFound\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PaymentProcessed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TokenNotSupported\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Unauthorized\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"paymentHash\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"DepositCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"paymentHash\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"PaymentReleased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"supported\",\"type\":\"bool\"}],\"name\":\"TokenSupported\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"merchant\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"paymentHash\",\"type\":\"bytes32\"}],\"name\":\"createDeposit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"depositIndex\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"depositMeta\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"merchant\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"depositIndex\",\"type\":\"uint256\"}],\"name\":\"getDeposit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"released\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"merchant\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"packedDeposits\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"processedPaymentHashes\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"depositIndex\",\"type\":\"uint256\"}],\"name\":\"releasePayment\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"supported\",\"type\":\"bool\"}],\"name\":\"setSupportedToken\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"supportedTokens\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"userDepositCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Ultra-minimal escrow for <100k gas deposits  EXTREME TRADE-OFFS FOR GAS EFFICIENCY: - No access control (public admin functions) - No reentrancy protection - No pause mechanism - Minimal validation - Assembly optimizations - Single storage slot deposits  \\u26a0\\ufe0f WARNING: This is for gas benchmarking only! \\u26a0\\ufe0f NOT recommended for production use due to security trade-offs!\",\"kind\":\"dev\",\"methods\":{\"createDeposit(uint256,address,address,bytes32)\":{\"details\":\"Ultra-minimal deposit function targeting <100k gas\",\"params\":{\"amount\":\"Deposit amount (must be > 0 and < 2^128)\",\"merchant\":\"Merchant address\",\"paymentHash\":\"Unique payment hash\",\"token\":\"Token address\"},\"returns\":{\"depositIndex\":\"The deposit index  EXTREME OPTIMIZATIONS: - Packed storage (amount + timestamp + status in single slot) - Minimal validation - Assembly for gas efficiency - No security modifiers\"}},\"getDeposit(address,uint256)\":{\"details\":\"Get unpacked deposit data\"},\"releasePayment(address,uint256)\":{\"details\":\"Release payment to merchant (ultra optimized)\"},\"setSupportedToken(address,bool)\":{\"details\":\"Set token support (no access control for gas savings)\"}},\"stateVariables\":{\"depositMeta\":{\"details\":\"Deposit metadata: user => depositId => (token, merchant)\"},\"packedDeposits\":{\"details\":\"Packed deposit data: user => depositId => packedData PackedData = amount(128) + timestamp(32) + released(8) + padding(88)\"},\"processedPaymentHashes\":{\"details\":\"Processed payment hashes (hash => processed)\"},\"supportedTokens\":{\"details\":\"Supported tokens (token => supported)\"},\"userDepositCount\":{\"details\":\"User deposit counts\"}},\"title\":\"YieldEscrowUltra\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/YieldEscrowUltra.sol\":\"YieldEscrowUltra\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `from` to `to` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\\n}\\n\",\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\"},\"src/YieldEscrowUltra.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\n\\n/**\\n * @title YieldEscrowUltra\\n * @dev Ultra-minimal escrow for <100k gas deposits\\n * \\n * EXTREME TRADE-OFFS FOR GAS EFFICIENCY:\\n * - No access control (public admin functions)\\n * - No reentrancy protection\\n * - No pause mechanism\\n * - Minimal validation\\n * - Assembly optimizations\\n * - Single storage slot deposits\\n * \\n * \\u26a0\\ufe0f WARNING: This is for gas benchmarking only!\\n * \\u26a0\\ufe0f NOT recommended for production use due to security trade-offs!\\n */\\ncontract YieldEscrowUltra {\\n    \\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    // STORAGE (ULTRA OPTIMIZED)\\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    \\n    /// @dev Supported tokens (token => supported)\\n    mapping(address => bool) public supportedTokens;\\n    \\n    /// @dev Processed payment hashes (hash => processed)\\n    mapping(bytes32 => bool) public processedPaymentHashes;\\n    \\n    /// @dev Packed deposit data: user => depositId => packedData\\n    /// PackedData = amount(128) + timestamp(32) + released(8) + padding(88)\\n    mapping(address => mapping(uint256 => uint256)) public packedDeposits;\\n    \\n    /// @dev Deposit metadata: user => depositId => (token, merchant)\\n    mapping(address => mapping(uint256 => DepositMeta)) public depositMeta;\\n    \\n    /// @dev User deposit counts\\n    mapping(address => uint256) public userDepositCount;\\n    \\n    struct DepositMeta {\\n        address token;\\n        address merchant;\\n    }\\n    \\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    // EVENTS (MINIMAL)\\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    \\n    event DepositCreated(bytes32 indexed paymentHash, address indexed user, uint256 amount);\\n    event PaymentReleased(bytes32 indexed paymentHash, address indexed user, uint256 amount);\\n    event TokenSupported(address indexed token, bool supported);\\n    \\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    // ERRORS (MINIMAL)\\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    \\n    error InvalidAmount();\\n    error TokenNotSupported();\\n    error PaymentProcessed();\\n    error DepositNotFound();\\n    error Unauthorized();\\n    \\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    // CORE FUNCTIONS (ULTRA OPTIMIZED)\\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    \\n    /**\\n     * @dev Ultra-minimal deposit function targeting <100k gas\\n     * @param amount Deposit amount (must be > 0 and < 2^128)\\n     * @param token Token address\\n     * @param merchant Merchant address\\n     * @param paymentHash Unique payment hash\\n     * @return depositIndex The deposit index\\n     * \\n     * EXTREME OPTIMIZATIONS:\\n     * - Packed storage (amount + timestamp + status in single slot)\\n     * - Minimal validation\\n     * - Assembly for gas efficiency\\n     * - No security modifiers\\n     */\\n    function createDeposit(\\n        uint256 amount,\\n        address token,\\n        address merchant,\\n        bytes32 paymentHash\\n    ) external returns (uint256 depositIndex) {\\n        \\n        // Ultra-minimal validation\\n        if (amount == 0 || amount >= 2**128) revert InvalidAmount();\\n        if (!supportedTokens[token]) revert TokenNotSupported();\\n        if (processedPaymentHashes[paymentHash]) revert PaymentProcessed();\\n        \\n        // Get deposit index\\n        depositIndex = userDepositCount[msg.sender];\\n        \\n        // Direct token transfer (no safe transfer for gas savings)\\n        assembly {\\n            let token_addr := token\\n            let from_addr := caller()\\n            let to_addr := address()\\n            let amount_val := amount\\n            \\n            // Prepare transferFrom call data\\n            let freeMemPtr := mload(0x40)\\n            mstore(freeMemPtr, 0x23b872dd00000000000000000000000000000000000000000000000000000000) // transferFrom selector\\n            mstore(add(freeMemPtr, 0x04), from_addr)\\n            mstore(add(freeMemPtr, 0x24), to_addr)\\n            mstore(add(freeMemPtr, 0x44), amount_val)\\n            \\n            let success := call(gas(), token_addr, 0, freeMemPtr, 0x64, 0, 0)\\n            if iszero(success) { revert(0, 0) }\\n        }\\n        \\n        // Pack deposit data: amount(128) + timestamp(32) + released(8) + padding(88)\\n        uint256 packedData;\\n        assembly {\\n            let amount_masked := and(amount, 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF) // 128 bits\\n            let timestamp_masked := and(timestamp(), 0xFFFFFFFF) // 32 bits\\n            // released = 0 (false), padding = 0\\n            packedData := or(amount_masked, shl(128, timestamp_masked))\\n        }\\n        \\n        // Store packed data and metadata\\n        packedDeposits[msg.sender][depositIndex] = packedData;\\n        depositMeta[msg.sender][depositIndex] = DepositMeta(token, merchant);\\n        \\n        // Update counters with assembly for gas savings\\n        assembly {\\n            // userDepositCount[msg.sender]++\\n            let user := caller()\\n            let slot := userDepositCount.slot\\n            let key := user\\n            let hash := keccak256(add(mload(0x40), 0x20), 0x40)\\n            mstore(add(mload(0x40), 0x20), key)\\n            mstore(add(mload(0x40), 0x40), slot)\\n            let currentCount := sload(hash)\\n            sstore(hash, add(currentCount, 1))\\n        }\\n        \\n        // Mark payment as processed\\n        processedPaymentHashes[paymentHash] = true;\\n        \\n        // Minimal event\\n        emit DepositCreated(paymentHash, msg.sender, amount);\\n    }\\n    \\n    /**\\n     * @dev Release payment to merchant (ultra optimized)\\n     */\\n    function releasePayment(address user, uint256 depositIndex) external {\\n        uint256 packedData = packedDeposits[user][depositIndex];\\n        if (packedData == 0) revert DepositNotFound();\\n        \\n        DepositMeta memory meta = depositMeta[user][depositIndex];\\n        if (msg.sender != meta.merchant) revert Unauthorized();\\n        \\n        // Check if already released (bit 160 in packed data)\\n        assembly {\\n            let releasedBit := and(shr(160, packedData), 0xFF)\\n            if releasedBit { revert(0, 0) }\\n        }\\n        \\n        // Extract amount from packed data\\n        uint256 amount;\\n        assembly {\\n            amount := and(packedData, 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF) // Lower 128 bits\\n        }\\n        \\n        // Mark as released\\n        assembly {\\n            let newPackedData := or(packedData, shl(160, 1)) // Set released bit\\n            // Store back\\n            let userAddr := user\\n            let index := depositIndex\\n            // Calculate storage slot for packedDeposits[user][depositIndex]\\n            let innerSlot := packedDeposits.slot\\n            mstore(0x00, userAddr)\\n            mstore(0x20, innerSlot)\\n            let userMapSlot := keccak256(0x00, 0x40)\\n            mstore(0x00, index)\\n            mstore(0x20, userMapSlot)\\n            let finalSlot := keccak256(0x00, 0x40)\\n            sstore(finalSlot, newPackedData)\\n        }\\n        \\n        // Transfer to merchant with assembly\\n        assembly {\\n            let token_addr := mload(add(meta, 0x00)) // meta.token\\n            let merchant_addr := mload(add(meta, 0x20)) // meta.merchant\\n            \\n            // Prepare transfer call data\\n            let freeMemPtr := mload(0x40)\\n            mstore(freeMemPtr, 0xa9059cbb00000000000000000000000000000000000000000000000000000000) // transfer selector\\n            mstore(add(freeMemPtr, 0x04), merchant_addr)\\n            mstore(add(freeMemPtr, 0x24), amount)\\n            \\n            let success := call(gas(), token_addr, 0, freeMemPtr, 0x44, 0, 0)\\n            if iszero(success) { revert(0, 0) }\\n        }\\n        \\n        emit PaymentReleased(bytes32(0), user, amount); // Simplified event\\n    }\\n    \\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    // ADMIN FUNCTIONS (NO ACCESS CONTROL FOR GAS SAVINGS)\\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    \\n    /**\\n     * @dev Set token support (no access control for gas savings)\\n     */\\n    function setSupportedToken(address token, bool supported) external {\\n        supportedTokens[token] = supported;\\n        emit TokenSupported(token, supported);\\n    }\\n    \\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    // VIEW FUNCTIONS\\n    // \\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n    \\n    /**\\n     * @dev Get unpacked deposit data\\n     */\\n    function getDeposit(address user, uint256 depositIndex) external view returns (\\n        uint256 amount,\\n        uint256 depositTimestamp,\\n        bool released,\\n        address token,\\n        address merchant\\n    ) {\\n        uint256 packedData = packedDeposits[user][depositIndex];\\n        DepositMeta memory meta = depositMeta[user][depositIndex];\\n        \\n        assembly {\\n            amount := and(packedData, 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF) // Lower 128 bits\\n            depositTimestamp := and(shr(128, packedData), 0xFFFFFFFF) // Next 32 bits\\n            released := and(shr(160, packedData), 0xFF) // Next 8 bits\\n        }\\n        \\n        token = meta.token;\\n        merchant = meta.merchant;\\n    }\\n}\",\"keccak256\":\"0x55d61b87f73a7a32197d5d80f8704188df940c9469626baf154aa150e5b62eee\",\"license\":\"MIT\"}},\"version\":1}","storageLayout":{"storage":[{"astId":86,"contract":"src/YieldEscrowUltra.sol:YieldEscrowUltra","label":"supportedTokens","offset":0,"slot":"0","type":"t_mapping(t_address,t_bool)"},{"astId":91,"contract":"src/YieldEscrowUltra.sol:YieldEscrowUltra","label":"processedPaymentHashes","offset":0,"slot":"1","type":"t_mapping(t_bytes32,t_bool)"},{"astId":98,"contract":"src/YieldEscrowUltra.sol:YieldEscrowUltra","label":"packedDeposits","offset":0,"slot":"2","type":"t_mapping(t_address,t_mapping(t_uint256,t_uint256))"},{"astId":106,"contract":"src/YieldEscrowUltra.sol:YieldEscrowUltra","label":"depositMeta","offset":0,"slot":"3","type":"t_mapping(t_address,t_mapping(t_uint256,t_struct(DepositMeta)116_storage))"},{"astId":111,"contract":"src/YieldEscrowUltra.sol:YieldEscrowUltra","label":"userDepositCount","offset":0,"slot":"4","type":"t_mapping(t_address,t_uint256)"}],"types":{"t_address":{"encoding":"inplace","label":"address","numberOfBytes":"20"},"t_bool":{"encoding":"inplace","label":"bool","numberOfBytes":"1"},"t_bytes32":{"encoding":"inplace","label":"bytes32","numberOfBytes":"32"},"t_mapping(t_address,t_bool)":{"encoding":"mapping","key":"t_address","label":"mapping(address => bool)","numberOfBytes":"32","value":"t_bool"},"t_mapping(t_address,t_mapping(t_uint256,t_struct(DepositMeta)116_storage))":{"encoding":"mapping","key":"t_address","label":"mapping(address => mapping(uint256 => struct YieldEscrowUltra.DepositMeta))","numberOfBytes":"32","value":"t_mapping(t_uint256,t_struct(DepositMeta)116_storage)"},"t_mapping(t_address,t_mapping(t_uint256,t_uint256))":{"encoding":"mapping","key":"t_address","label":"mapping(address => mapping(uint256 => uint256))","numberOfBytes":"32","value":"t_mapping(t_uint256,t_uint256)"},"t_mapping(t_address,t_uint256)":{"encoding":"mapping","key":"t_address","label":"mapping(address => uint256)","numberOfBytes":"32","value":"t_uint256"},"t_mapping(t_bytes32,t_bool)":{"encoding":"mapping","key":"t_bytes32","label":"mapping(bytes32 => bool)","numberOfBytes":"32","value":"t_bool"},"t_mapping(t_uint256,t_struct(DepositMeta)116_storage)":{"encoding":"mapping","key":"t_uint256","label":"mapping(uint256 => struct YieldEscrowUltra.DepositMeta)","numberOfBytes":"32","value":"t_struct(DepositMeta)116_storage"},"t_mapping(t_uint256,t_uint256)":{"encoding":"mapping","key":"t_uint256","label":"mapping(uint256 => uint256)","numberOfBytes":"32","value":"t_uint256"},"t_struct(DepositMeta)116_storage":{"encoding":"inplace","label":"struct YieldEscrowUltra.DepositMeta","members":[{"astId":113,"contract":"src/YieldEscrowUltra.sol:YieldEscrowUltra","label":"token","offset":0,"slot":"0","type":"t_address"},{"astId":115,"contract":"src/YieldEscrowUltra.sol:YieldEscrowUltra","label":"merchant","offset":0,"slot":"1","type":"t_address"}],"numberOfBytes":"64"},"t_uint256":{"encoding":"inplace","label":"uint256","numberOfBytes":"32"}}},"userdoc":{"kind":"user","methods":{},"version":1}}}}}}